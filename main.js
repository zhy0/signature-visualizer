!function(t){var r={};function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var i in t)e.d(n,i,function(r){return t[r]}.bind(null,i));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=44)}([function(t,r,e){"use strict";r.name="matrix",r.factory=function(t,r,e,n){var i=n("matrix",{"":function(){return a([])},string:function(t){return a([],t)},"string, string":function(t,r){return a([],t,r)},Array:function(t){return a(t)},Matrix:function(t){return a(t,t.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});return i.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},i;function a(r,e,n){return new(t.Matrix.storage(e||"default"))(r,n)}}},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=e(16);r.clone=function t(e){var a=n(e);if("number"===a||"string"===a||"boolean"===a||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(r){return t(r)});if(e instanceof Date)return new Date(e.valueOf());if(i(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return r.map(e,t)},r.map=function(t,e){var n={};for(var i in t)r.hasOwnProperty(t,i)&&(n[i]=e(t[i]));return n},r.extend=function(t,e){for(var n in e)r.hasOwnProperty(e,n)&&(t[n]=e[n]);return t},r.deepExtend=function t(e,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var i in n)if(r.hasOwnProperty(n,i))if(n[i]&&n[i].constructor===Object)void 0===e[i]&&(e[i]={}),e[i].constructor===Object?t(e[i],n[i]):e[i]=n[i];else{if(Array.isArray(n[i]))throw new TypeError("Arrays are not supported by deepExtend");e[i]=n[i]}return e},r.deepEqual=function(t,e){var n,i,a;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(i=0,a=t.length;i<a;i++)if(!r.deepEqual(t[i],e[i]))return!1;return!0}if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!r.deepEqual(t[n],e[n]))return!1;for(n in e)if(!r.deepEqual(t[n],e[n]))return!1;return!0}return t===e},r.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},r.lazy=function(t,e,n){if(r.canDefineProperty()){var i,a=!0;Object.defineProperty(t,e,{get:function(){return a&&(i=n(),a=!1),i},set:function(t){i=t,a=!1},configurable:!0,enumerable:!0})}else t[e]=n()},r.traverse=function(t,r){var e=t;if(r)for(var n=r.split("."),i=0;i<n.length;i++){var a=n[i];a in e||(e[a]={}),e=e[a]}return e},r.hasOwnProperty=function(t,r){return t&&Object.hasOwnProperty.call(t,r)},r.isFactory=function(t){return t&&"function"==typeof t.factory}},function(t,r,e){"use strict";var n=e(1);function i(t){for(var r=[],e=0;e<t;e++)r.push(0);return r}r.isNumber=function(t){return"number"==typeof t},r.isInteger=function(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)},r.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},r.format=function(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var i,a="auto";switch(e&&(e.notation&&(a=e.notation),r.isNumber(e)?i=e:r.isNumber(e.precision)&&(i=e.precision)),a){case"fixed":return r.toFixed(t,i);case"exponential":return r.toExponential(t,i);case"engineering":return r.toEngineering(t,i);case"auto":if(e&&e.exponential&&(void 0!==e.exponential.lower||void 0!==e.exponential.upper)){var o=n.map(e,function(t){return t});return o.exponential=void 0,void 0!==e.exponential.lower&&(o.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(o.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(o)),r.toPrecision(t,i,o)}return r.toPrecision(t,i,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],r=arguments[4];return"."!==t?t+r:r});default:throw new Error('Unknown notation "'+a+'". Choose "auto", "exponential", or "fixed".')}},r.splitNumber=function(t){var r=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!r)throw new SyntaxError("Invalid number "+t);var e=r[1],n=r[2],i=parseFloat(r[4]||"0"),a=n.indexOf(".");i+=-1!==a?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(t){return i-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)});return 0===o.length&&(o.push(0),i++),{sign:e,coefficients:o,exponent:i}},r.toEngineering=function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=r.roundDigits(r.splitNumber(t),e),a=n.exponent,o=n.coefficients,u=a%3==0?a:a<0?a-3-a%3:a-a%3;if(r.isNumber(e))e>o.length&&(o=o.concat(i(e-o.length)));else{var s=a>=0?a:Math.abs(u);o.length-1<s&&(o=o.concat(i(s-(o.length-1))))}for(var f=Math.abs(a-u),c=1;--f>=0;)c++;var l=o.slice(c).join(""),p=r.isNumber(e)&&l.length||l.match(/[1-9]/)?"."+l:"",h=o.slice(0,c).join("")+p+"e"+(a>=0?"+":"")+u.toString();return n.sign+h},r.toFixed=function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=r.splitNumber(t),a="number"==typeof e?r.roundDigits(n,n.exponent+1+e):n,o=a.coefficients,u=a.exponent+1,s=u+(e||0);return o.length<s&&(o=o.concat(i(s-o.length))),u<0&&(o=i(1-u).concat(o),u=1),u<o.length&&o.splice(u,0,0===u?"0.":"."),a.sign+o.join("")},r.toExponential=function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=r.splitNumber(t),a=e?r.roundDigits(n,e):n,o=a.coefficients,u=a.exponent;o.length<e&&(o=o.concat(i(e-o.length)));var s=o.shift();return a.sign+s+(o.length>0?"."+o.join(""):"")+"e"+(u>=0?"+":"")+u},r.toPrecision=function(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var a=n&&void 0!==n.lowerExp?n.lowerExp:-3,o=n&&void 0!==n.upperExp?n.upperExp:5,u=r.splitNumber(t);if(u.exponent<a||u.exponent>=o)return r.toExponential(t,e);var s=e?r.roundDigits(u,e):u,f=s.coefficients,c=s.exponent;f.length<e&&(f=f.concat(i(e-f.length))),f=f.concat(i(c-f.length+1+(f.length<e?e-f.length:0)));var l=c>0?c:0;return l<(f=i(-c).concat(f)).length-1&&f.splice(l+1,0,"."),s.sign+f.join("")},r.roundDigits=function(t,r){for(var e={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=e.coefficients;r<=0;)n.unshift(0),e.exponent++,r++;if(n.length>r&&n.splice(r,n.length-r)[0]>=5){var i=r-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),e.exponent++,i++),n[--i]++}return e},r.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},r.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,r.nearlyEqual=function(t,e,n){if(null==n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var i=Math.abs(t-e);return i<r.DBL_EPSILON||i<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}},function(t,r,e){"use strict";function n(t,r,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=r,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(r)?"["+r.join(", ")+"]":r)+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="DimensionError",n.prototype.isDimensionError=!0,t.exports=n},function(t,r,e){"use strict";t.exports=function t(r,e,n){return r&&"function"==typeof r.map?r.map(function(r){return t(r,e,n)}):e(r)}},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.size=s,r.validate=function(t,r){if(0===r.length){if(Array.isArray(t))throw new a.default(t.length,0)}else!function t(r,e,n){var i;var o=r.length;if(o!==e[n])throw new a.default(o,e[n]);if(n<e.length-1){var u=n+1;for(i=0;i<o;i++){var s=r[i];if(!Array.isArray(s))throw new a.default(e.length-1,e.length,"<");t(r[i],e,u)}}else for(i=0;i<o;i++)if(Array.isArray(r[i]))throw new a.default(e.length+1,e.length,">")}(t,r,0)},r.validateIndex=function(t,r){if(!n.default.isNumber(t)||!n.default.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof r&&t>=r)throw new o.default(t,r)},r.resize=function(t,r,e){if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new Error("Resizing to scalar is not supported");r.forEach(function(t){if(!n.default.isNumber(t)||!n.default.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+i.default.format(r)+")")});var a=void 0!==e?e:0;return function t(r,e,n,i){var a,o,u=r.length,s=e[n],f=Math.min(u,s);if(r.length=s,n<e.length-1){var c=n+1;for(a=0;a<f;a++)o=r[a],Array.isArray(o)||(o=[o],r[a]=o),t(o,e,c,i);for(a=f;a<s;a++)o=[],r[a]=o,t(o,e,c,i)}else{for(a=0;a<f;a++)for(;Array.isArray(r[a]);)r[a]=r[a][0];for(a=f;a<s;a++)r[a]=i}}(t,r,0,a),t},r.reshape=function(t,r){var e,n=f(t);function i(t){return t.reduce(function(t,r){return t*r})}if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new a.default(0,i(s(t)),"!=");for(var o=1,u=0;u<r.length;u++)o*=r[u];if(n.length!==o)throw new a.default(i(r),i(s(t)),"!=");try{e=function(t,r){for(var e,n=t,i=r.length-1;i>0;i--){var a=r[i];e=[];for(var o=n.length/a,u=0;u<o;u++)e.push(n.slice(u*a,(u+1)*a));n=e}return n}(n,r)}catch(e){if(e instanceof a.default)throw new a.default(i(r),i(s(t)),"!=");throw e}return e},r.squeeze=function(t,r){var e=r||s(t);for(;Array.isArray(t)&&1===t.length;)t=t[0],e.shift();var n=e.length;for(;1===e[n-1];)n--;n<e.length&&(t=function t(r,e,n){var i,a;if(n<e){var o=n+1;for(i=0,a=r.length;i<a;i++)r[i]=t(r[i],e,o)}else for(;Array.isArray(r);)r=r[0];return r}(t,n,0),e.length=n);return t},r.unsqueeze=function(t,r,e,n){var i=n||s(t);if(e)for(var a=0;a<e;a++)t=[t],i.unshift(1);t=function t(r,e,n){var i,a;if(Array.isArray(r)){var o=n+1;for(i=0,a=r.length;i<a;i++)r[i]=t(r[i],e,o)}else for(var u=n;u<e;u++)r=[r];return r}(t,r,0);for(;i.length<r;)i.push(1);return t},r.flatten=f,r.map=function(t,r){return Array.prototype.map.call(t,r)},r.forEach=function(t,r){Array.prototype.forEach.call(t,r)},r.filter=function(t,r){if(1!==s(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r)},r.filterRegExp=function(t,r){if(1!==s(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,function(t){return r.test(t)})},r.join=function(t,r){return Array.prototype.join.call(t,r)},r.identify=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;var r=[],e=0;r[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?e++:e=0,r.push({value:t[n],identifier:e});return r},r.generalize=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;for(var r=[],e=0;e<t.length;e++)r.push(t[e].value);return r};var n=u(e(2)),i=u(e(31)),a=u(e(3)),o=u(e(57));function u(t){return t&&t.__esModule?t:{default:t}}function s(t){for(var r=[];Array.isArray(t);)r.push(t.length),t=t[0];return r}function f(t){if(!Array.isArray(t))return t;var r=[];return t.forEach(function t(e){Array.isArray(e)?e.forEach(t):r.push(e)}),r}},function(t,r,e){"use strict";var n=e(2).nearlyEqual,i=e(19);r.factory=function(t,r,e,a){var o=a("equalScalar",{"boolean, boolean":function(t,r){return t===r},"number, number":function(t,e){return t===e||n(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||i(t,e,r.epsilon)},"Fraction, Fraction":function(t,r){return t.equals(r)},"Complex, Complex":function(t,r){return t.equals(r)},"Unit, Unit":function(t,r){if(!t.equalBase(r))throw new Error("Cannot compare units with different base");return o(t.value,r.value)}});return o}},function(t,r,e){"use strict";var n=e(61);r.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},r.operators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},r.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var i={deg:"^\\circ"};r.escape=function(t){return n(t,{preserveFormatting:!0})},r.toSymbol=function(t,e){return(e=void 0!==e&&e)?i.hasOwnProperty(t)?i[t]:"\\mathrm{"+r.escape(t)+"}":r.symbols.hasOwnProperty(t)?r.symbols[t]:r.escape(t)}},function(t,r,e){"use strict";r.array=e(5),r.boolean=e(58),r.function=e(32),r.number=e(2),r.object=e(1),r.string=e(31),r.emitter=e(29)},function(t,r,e){"use strict";var n=e(1).extend,i=e(5);r.name="multiply",r.factory=function(t,r,a,o){var u=e(7),s=a(e(0)),f=a(e(11)),c=a(e(24)),l=a(e(6)),p=a(e(38)),h=a(e(10)),m=t.DenseMatrix,d=t.SparseMatrix,v=o("multiply",n({"Array, Array":function(r,e){g(i.size(r),i.size(e));var n=v(s(r),s(e));return t.isMatrix(n)?n.valueOf():n},"Matrix, Matrix":function(t,r){var e=t.size(),n=r.size();return g(e,n),1===e.length?1===n.length?function(t,r,e){if(0===e)throw new Error("Cannot multiply two empty vectors");var n,i=t._data,a=t._datatype,u=r._data,s=r._datatype,l=f,p=c;a&&s&&a===s&&"string"==typeof a&&(n=a,l=o.find(f,[n,n]),p=o.find(c,[n,n]));for(var h=p(i[0],u[0]),m=1;m<e;m++)h=l(h,p(i[m],u[m]));return h}(t,r,e[0]):function(t,r){if("dense"!==r.storage())throw new Error("Support for SparseMatrix not implemented");return function(t,r){var e,n=t._data,i=t._size,a=t._datatype,u=r._data,s=r._size,l=r._datatype,p=i[0],h=s[1],d=f,v=c;a&&l&&a===l&&"string"==typeof a&&(e=a,d=o.find(f,[e,e]),v=o.find(c,[e,e]));for(var g=[],y=0;y<h;y++){for(var b=v(n[0],u[0][y]),w=1;w<p;w++)b=d(b,v(n[w],u[w][y]));g[y]=b}return new m({data:g,size:[h],datatype:e})}(t,r)}(t,r):1===n.length?y(t,r):b(t,r)},"Matrix, Array":function(t,r){return v(t,s(r))},"Array, Matrix":function(t,r){return v(s(t,r.storage()),r)},"SparseMatrix, any":function(t,r){return p(t,r,c,!1)},"DenseMatrix, any":function(t,r){return h(t,r,c,!1)},"any, SparseMatrix":function(t,r){return p(r,t,c,!0)},"any, DenseMatrix":function(t,r){return h(r,t,c,!0)},"Array, any":function(t,r){return h(s(t),r,c,!1).valueOf()},"any, Array":function(t,r){return h(s(r),t,c,!0).valueOf()},"any, any":c,"any, any, ...any":function(t,r,e){for(var n=v(t,r),i=0;i<e.length;i++)n=v(n,e[i]);return n}},c.signatures));function g(t,r){switch(t.length){case 1:switch(r.length){case 1:if(t[0]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+r[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+r.length+" dimensions)")}break;case 2:switch(r.length){case 1:if(t[1]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+r[0]+")");break;case 2:if(t[1]!==r[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+r[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+r.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}var y=o("_multiplyMatrixVector",{"DenseMatrix, any":function(t,r){var e,n=t._data,i=t._size,a=t._datatype,u=r._data,s=r._datatype,l=i[0],p=i[1],h=f,d=c;a&&s&&a===s&&"string"==typeof a&&(e=a,h=o.find(f,[e,e]),d=o.find(c,[e,e]));for(var v=[],g=0;g<l;g++){for(var y=n[g],b=d(y[0],u[0]),w=1;w<p;w++)b=h(b,d(y[w],u[w]));v[g]=b}return new m({data:v,size:[l],datatype:e})},"SparseMatrix, any":function(t,r){var e=t._values,n=t._index,i=t._ptr,a=t._datatype;if(!e)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var u,s=r._data,p=r._datatype,h=t._size[0],m=r._size[0],v=[],g=[],y=[],b=f,w=c,x=l,_=0;a&&p&&a===p&&"string"==typeof a&&(u=a,b=o.find(f,[u,u]),w=o.find(c,[u,u]),x=o.find(l,[u,u]),_=o.convert(0,u));var M=[],N=[];y[0]=0;for(var E=0;E<m;E++){var A=s[E];if(!x(A,_))for(var z=i[E],S=i[E+1],k=z;k<S;k++){var O=n[k];N[O]?M[O]=b(M[O],w(A,e[k])):(N[O]=!0,g.push(O),M[O]=w(A,e[k]))}}for(var C=g.length,F=0;F<C;F++){var B=g[F];v[F]=M[B]}return y[1]=g.length,new d({values:v,index:g,ptr:y,size:[h,1],datatype:u})}}),b=o("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,r){var e,n=t._data,i=t._size,a=t._datatype,u=r._data,s=r._size,l=r._datatype,p=i[0],h=i[1],d=s[1],v=f,g=c;a&&l&&a===l&&"string"==typeof a&&(e=a,v=o.find(f,[e,e]),g=o.find(c,[e,e]));for(var y=[],b=0;b<p;b++){var w=n[b];y[b]=[];for(var x=0;x<d;x++){for(var _=g(w[0],u[0][x]),M=1;M<h;M++)_=v(_,g(w[M],u[M][x]));y[b][x]=_}}return new m({data:y,size:[p,d],datatype:e})},"DenseMatrix, SparseMatrix":function(t,r){var e=t._data,n=t._size,i=t._datatype,a=r._values,u=r._index,s=r._ptr,p=r._size,h=r._datatype;if(!a)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var m,v=n[0],g=p[1],y=f,b=c,w=l,x=0;i&&h&&i===h&&"string"==typeof i&&(m=i,y=o.find(f,[m,m]),b=o.find(c,[m,m]),w=o.find(l,[m,m]),x=o.convert(0,m));for(var _=[],M=[],N=[],E=new d({values:_,index:M,ptr:N,size:[v,g],datatype:m}),A=0;A<g;A++){N[A]=M.length;var z=s[A],S=s[A+1];if(S>z)for(var k=0,O=0;O<v;O++){for(var C=O+1,F=void 0,B=z;B<S;B++){var I=u[B];k!==C?(F=b(e[O][I],a[B]),k=C):F=y(F,b(e[O][I],a[B]))}k!==C||w(F,x)||(M.push(O),_.push(F))}}return N[g]=M.length,E},"SparseMatrix, DenseMatrix":function(t,r){var e=t._values,n=t._index,i=t._ptr,a=t._datatype;if(!e)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var u,s=r._data,p=r._datatype,h=t._size[0],m=r._size[0],v=r._size[1],g=f,y=c,b=l,w=0;a&&p&&a===p&&"string"==typeof a&&(u=a,g=o.find(f,[u,u]),y=o.find(c,[u,u]),b=o.find(l,[u,u]),w=o.convert(0,u));for(var x=[],_=[],M=[],N=new d({values:x,index:_,ptr:M,size:[h,v],datatype:u}),E=[],A=[],z=0;z<v;z++){M[z]=_.length;for(var S=z+1,k=0;k<m;k++){var O=s[k][z];if(!b(O,w))for(var C=i[k],F=i[k+1],B=C;B<F;B++){var I=n[B];A[I]!==S?(A[I]=S,_.push(I),E[I]=y(O,e[B])):E[I]=g(E[I],y(O,e[B]))}}for(var T=M[z],P=_.length,D=T;D<P;D++){var j=_[D];x[D]=E[j]}}return M[v]=_.length,N},"SparseMatrix, SparseMatrix":function(t,r){var e,n=t._values,i=t._index,a=t._ptr,u=t._datatype,s=r._values,l=r._index,p=r._ptr,h=r._datatype,m=t._size[0],v=r._size[1],g=n&&s,y=f,b=c;u&&h&&u===h&&"string"==typeof u&&(e=u,y=o.find(f,[e,e]),b=o.find(c,[e,e]));for(var w,x,_,M,N,E,A,z,S=g?[]:void 0,k=[],O=[],C=new d({values:S,index:k,ptr:O,size:[m,v],datatype:e}),F=g?[]:void 0,B=[],I=0;I<v;I++){O[I]=k.length;var T=I+1;for(N=p[I],E=p[I+1],M=N;M<E;M++)if(z=l[M],g)for(x=a[z],_=a[z+1],w=x;w<_;w++)A=i[w],B[A]!==T?(B[A]=T,k.push(A),F[A]=b(s[M],n[w])):F[A]=y(F[A],b(s[M],n[w]));else for(x=a[z],_=a[z+1],w=x;w<_;w++)A=i[w],B[A]!==T&&(B[A]=T,k.push(A));if(g)for(var P=O[I],D=k.length,j=P;j<D;j++){var R=k[j];S[j]=F[R]}}return O[v]=k.length,C}});return v.toTex={2:"\\left(${args[0]}".concat(u.operators.multiply,"${args[1]}\\right)")},v}},function(t,r,e){"use strict";var n=e(1).clone;r.name="algorithm14",r.factory=function(t,r,e,i){var a=t.DenseMatrix;return function(t,r,e,o){var u,s=t._data,f=t._size,c=t._datatype,l=e;"string"==typeof c&&(u=c,r=i.convert(r,u),l=i.find(e,[u,u]));var p=f.length>0?function t(r,e,n,i,a,o,u){var s=[];if(e===n.length-1)for(var f=0;f<i;f++)s[f]=u?r(o,a[f]):r(a[f],o);else for(var c=0;c<i;c++)s[c]=t(r,e+1,n,n[e+1],a[c],o,u);return s}(l,0,f,f[0],s,r,o):[];return new a({data:p,size:n(f),datatype:u})}}},function(t,r,e){"use strict";r.factory=function(t,r,e,n){var i=n("add",{"number, number":function(t,r){return t+r},"Complex, Complex":function(t,r){return t.add(r)},"BigNumber, BigNumber":function(t,r){return t.plus(r)},"Fraction, Fraction":function(t,r){return t.add(r)},"Unit, Unit":function(t,r){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value||void 0===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(r))throw new Error("Units do not match");var e=t.clone();return e.value=i(e.value,r.value),e.fixPrefix=!1,e}});return i}},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.name="typeof",r.factory=function(t,r,e,i){var a=i("_typeof",{any:function(r){var e=n(r);return"object"===e?null===r?"null":Array.isArray(r)?"Array":r instanceof Date?"Date":r instanceof RegExp?"RegExp":t.isBigNumber(r)?"BigNumber":t.isComplex(r)?"Complex":t.isFraction(r)?"Fraction":t.isMatrix(r)?"Matrix":t.isUnit(r)?"Unit":t.isIndex(r)?"Index":t.isRange(r)?"Range":t.isResultSet(r)?"ResultSet":t.isNode(r)?r.type:t.isChain(r)?"Chain":t.isHelp(r)?"Help":"Object":"function"===e?"Function":e}});return a.toTex=void 0,a}},function(t,r,e){"use strict";var n=e(1).extend;r.name="add",r.factory=function(t,r,i,a){var o=i(e(0)),u=i(e(11)),s=e(7),f=i(e(34)),c=i(e(62)),l=i(e(35)),p=i(e(14)),h=i(e(10)),m=a("add",n({"DenseMatrix, DenseMatrix":function(t,r){return p(t,r,u)},"DenseMatrix, SparseMatrix":function(t,r){return f(t,r,u,!1)},"SparseMatrix, DenseMatrix":function(t,r){return f(r,t,u,!0)},"SparseMatrix, SparseMatrix":function(t,r){return c(t,r,u)},"Array, Array":function(t,r){return m(o(t),o(r)).valueOf()},"Array, Matrix":function(t,r){return m(o(t),r)},"Matrix, Array":function(t,r){return m(t,o(r))},"DenseMatrix, any":function(t,r){return h(t,r,u,!1)},"SparseMatrix, any":function(t,r){return l(t,r,u,!1)},"any, DenseMatrix":function(t,r){return h(r,t,u,!0)},"any, SparseMatrix":function(t,r){return l(r,t,u,!0)},"Array, any":function(t,r){return h(o(t),r,u,!1).valueOf()},"any, Array":function(t,r){return h(o(r),t,u,!0).valueOf()},"any, any":u,"any, any, ...any":function(t,r,e){for(var n=m(t,r),i=0;i<e.length;i++)n=m(n,e[i]);return n}},u.signatures));return m.toTex={2:"\\left(${args[0]}".concat(s.operators.add,"${args[1]}\\right)")},m}},function(t,r,e){"use strict";var n=e(3);r.name="algorithm13",r.factory=function(t,r,e,i){var a=t.DenseMatrix;return function(t,r,e){var o,u=t._data,s=t._size,f=t._datatype,c=r._data,l=r._size,p=r._datatype,h=[];if(s.length!==l.length)throw new n(s.length,l.length);for(var m=0;m<s.length;m++){if(s[m]!==l[m])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+l+")");h[m]=s[m]}var d=e;"string"==typeof f&&f===p&&(o=f,d=i.find(e,[o,o]));var v=h.length>0?function t(r,e,n,i,a,o){var u=[];if(e===n.length-1)for(var s=0;s<i;s++)u[s]=r(a[s],o[s]);else for(var f=0;f<i;f++)u[f]=t(r,e+1,n,n[e+1],a[f],o[f]);return u}(d,0,h,h[0],u,c):[];return new a({data:v,size:h,datatype:o})}}},function(t,r,e){"use strict";var n=e(4);r.name="unaryMinus",r.factory=function(t,r,i,a){var o=e(7),u=a("unaryMinus",{number:function(t){return-t},Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var r=t.clone();return r.value=u(t.value),r},"Array | Matrix":function(t){return n(t,u,!0)}});return u.toTex={1:"".concat(o.operators.unaryMinus,"\\left(${args[0]}\\right)")},u}},function(t,r,e){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isBigNumber||!1}},function(t,r,e){"use strict";var n=e(8).string.isString;r.name="Matrix",r.path="type",r.factory=function(t,r,e,i){function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator")}return a.prototype.type="Matrix",a.prototype.isMatrix=!0,a.storage=function(t){if(!n(t))throw new TypeError("format must be a string value");var r=a._storage[t];if(!r)throw new SyntaxError("Unsupported matrix storage format: "+t);return r},a._storage={},a.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},a.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},a.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},a.prototype.subset=function(t,r,e){throw new Error("Cannot invoke subset on a Matrix interface")},a.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},a.prototype.set=function(t,r,e){throw new Error("Cannot invoke set on a Matrix interface")},a.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},a.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},a.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},a.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},a.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},a.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},a.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},a.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},a.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},a.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},a}},function(t,r,e){"use strict";r.factory=function(t,r,n,i){var a=n(e(12));return function t(r){for(var e,n=0,i=0;i<r.length;i++){var o=r[i],u=Array.isArray(o);if(0===i&&u&&(n=o.length),u&&o.length!==n)return;var s=u?t(o):a(o);if(void 0===e)e=s;else if(e!==s)return"mixed"}return e}}},function(t,r,e){"use strict";t.exports=function(t,r,e){if(null==e)return t.eq(r);if(t.eq(r))return!0;if(t.isNaN()||r.isNaN())return!1;if(t.isFinite()&&r.isFinite()){var n=t.minus(r).abs();if(n.isZero())return!0;var i=t.constructor.max(t.abs(),r.abs());return n.lte(i.times(e))}return!1}},function(t,r,e){"use strict";var n=e(2).nearlyEqual,i=e(19);r.name="smaller",r.factory=function(t,r,a,o){var u=a(e(0)),s=a(e(21)),f=a(e(36)),c=a(e(37)),l=a(e(14)),p=a(e(10)),h=e(7),m=o("smaller",{"boolean, boolean":function(t,r){return t<r},"number, number":function(t,e){return t<e&&!n(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!i(t,e,r.epsilon)},"Fraction, Fraction":function(t,r){return-1===t.compare(r)},"Complex, Complex":function(t,r){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,r){if(!t.equalBase(r))throw new Error("Cannot compare units with different base");return m(t.value,r.value)},"SparseMatrix, SparseMatrix":function(t,r){return f(t,r,m)},"SparseMatrix, DenseMatrix":function(t,r){return s(r,t,m,!0)},"DenseMatrix, SparseMatrix":function(t,r){return s(t,r,m,!1)},"DenseMatrix, DenseMatrix":function(t,r){return l(t,r,m)},"Array, Array":function(t,r){return m(u(t),u(r)).valueOf()},"Array, Matrix":function(t,r){return m(u(t),r)},"Matrix, Array":function(t,r){return m(t,u(r))},"SparseMatrix, any":function(t,r){return c(t,r,m,!1)},"DenseMatrix, any":function(t,r){return p(t,r,m,!1)},"any, SparseMatrix":function(t,r){return c(r,t,m,!0)},"any, DenseMatrix":function(t,r){return p(r,t,m,!0)},"Array, any":function(t,r){return p(u(t),r,m,!1).valueOf()},"any, Array":function(t,r){return p(u(r),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}".concat(h.operators.smaller,"${args[1]}\\right)")},m}},function(t,r,e){"use strict";var n=e(3);r.name="algorithm03",r.factory=function(t,r,e,i){var a=t.DenseMatrix;return function(t,r,e,o){var u=t._data,s=t._size,f=t._datatype,c=r._values,l=r._index,p=r._ptr,h=r._size,m=r._datatype;if(s.length!==h.length)throw new n(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,v=s[0],g=s[1],y=0,b=e;"string"==typeof f&&f===m&&(d=f,y=i.convert(0,d),b=i.find(e,[d,d]));for(var w=[],x=0;x<v;x++)w[x]=[];for(var _=[],M=[],N=0;N<g;N++){for(var E=N+1,A=p[N],z=p[N+1],S=A;S<z;S++){var k=l[S];_[k]=o?b(c[S],u[k][N]):b(u[k][N],c[S]),M[k]=E}for(var O=0;O<v;O++)M[O]===E?w[O][N]=_[O]:w[O][N]=o?b(y,u[O][N]):b(u[O][N],y)}return new a({data:w,size:[v,g],datatype:d})}}},function(t,r,e){"use strict";var n=e(2).nearlyEqual,i=e(19);r.name="larger",r.factory=function(t,r,a,o){var u=a(e(0)),s=a(e(21)),f=a(e(36)),c=a(e(37)),l=a(e(14)),p=a(e(10)),h=e(7),m=o("larger",{"boolean, boolean":function(t,r){return t>r},"number, number":function(t,e){return t>e&&!n(t,e,r.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!i(t,e,r.epsilon)},"Fraction, Fraction":function(t,r){return 1===t.compare(r)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,r){if(!t.equalBase(r))throw new Error("Cannot compare units with different base");return m(t.value,r.value)},"SparseMatrix, SparseMatrix":function(t,r){return f(t,r,m)},"SparseMatrix, DenseMatrix":function(t,r){return s(r,t,m,!0)},"DenseMatrix, SparseMatrix":function(t,r){return s(t,r,m,!1)},"DenseMatrix, DenseMatrix":function(t,r){return l(t,r,m)},"Array, Array":function(t,r){return m(u(t),u(r)).valueOf()},"Array, Matrix":function(t,r){return m(u(t),r)},"Matrix, Array":function(t,r){return m(t,u(r))},"SparseMatrix, any":function(t,r){return c(t,r,m,!1)},"DenseMatrix, any":function(t,r){return p(t,r,m,!1)},"any, SparseMatrix":function(t,r){return c(r,t,m,!0)},"any, DenseMatrix":function(t,r){return p(r,t,m,!0)},"Array, any":function(t,r){return p(u(t),r,m,!1).valueOf()},"any, Array":function(t,r){return p(u(r),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}".concat(h.operators.larger,"${args[1]}\\right)")},m}},function(t,r,e){"use strict";var n=e(3);function i(t,r){var e=t.size(),i=r.size();if(e.length!==i.length)throw new n(e.length,i.length)}r.name="subtract",r.factory=function(t,r,n,a){var o=e(7),u=n(e(0)),s=n(e(11)),f=n(e(15)),c=n(e(34)),l=n(e(21)),p=n(e(69)),h=n(e(35)),m=n(e(14)),d=n(e(10)),v=a("subtract",{"number, number":function(t,r){return t-r},"Complex, Complex":function(t,r){return t.sub(r)},"BigNumber, BigNumber":function(t,r){return t.minus(r)},"Fraction, Fraction":function(t,r){return t.sub(r)},"Unit, Unit":function(t,r){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===r.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(r))throw new Error("Units do not match");var e=t.clone();return e.value=v(e.value,r.value),e.fixPrefix=!1,e},"SparseMatrix, SparseMatrix":function(t,r){return i(t,r),p(t,r,v)},"SparseMatrix, DenseMatrix":function(t,r){return i(t,r),l(r,t,v,!0)},"DenseMatrix, SparseMatrix":function(t,r){return i(t,r),c(t,r,v,!1)},"DenseMatrix, DenseMatrix":function(t,r){return i(t,r),m(t,r,v)},"Array, Array":function(t,r){return v(u(t),u(r)).valueOf()},"Array, Matrix":function(t,r){return v(u(t),r)},"Matrix, Array":function(t,r){return v(t,u(r))},"SparseMatrix, any":function(t,r){return h(t,f(r),s)},"DenseMatrix, any":function(t,r){return d(t,r,v)},"any, SparseMatrix":function(t,r){return h(r,t,v,!0)},"any, DenseMatrix":function(t,r){return d(r,t,v,!0)},"Array, any":function(t,r){return d(u(t),r,v,!1).valueOf()},"any, Array":function(t,r){return d(u(r),t,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}".concat(o.operators.subtract,"${args[1]}\\right)")},v}},function(t,r,e){"use strict";r.factory=function(t,r,e,n){var i=n("multiplyScalar",{"number, number":function(t,r){return t*r},"Complex, Complex":function(t,r){return t.mul(r)},"BigNumber, BigNumber":function(t,r){return t.times(r)},"Fraction, Fraction":function(t,r){return t.mul(r)},"number | Fraction | BigNumber | Complex, Unit":function(t,r){var e=r.clone();return e.value=null===e.value?e._normalize(t):i(e.value,t),e},"Unit, number | Fraction | BigNumber | Complex":function(t,r){var e=t.clone();return e.value=null===e.value?e._normalize(r):i(e.value,r),e},"Unit, Unit":function(t,r){return t.multiply(r)}});return i}},function(t,r,e){"use strict";r.factory=function(t,r,n,i){var a=n(e(71)),o=n(e(12)),u=i("divide",{"number, number":function(t,r){return t/r},"Complex, Complex":function(t,r){return t.div(r)},"BigNumber, BigNumber":function(t,r){return t.div(r)},"Fraction, Fraction":function(t,r){return t.div(r)},"Unit, number | Fraction | BigNumber":function(t,r){var e=t.clone(),n=a(1,o(r));return e.value=u(null===e.value?e._normalize(n):e.value,r),e},"number | Fraction | BigNumber, Unit":function(t,r){var e=r.clone();e=e.pow(-1);var n=a(1,o(t));return e.value=u(t,null===r.value?r._normalize(n):r.value),e},"Unit, Unit":function(t,r){return t.divide(r)}});return u}},function(t,r,e){"use strict";var n=e(4);r.name="abs",r.factory=function(t,r,e,i){var a=i("abs",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return n(t,a,!0)},Unit:function(t){return t.abs()}});return a.toTex={1:"\\left|${args[0]}\\right|"},a}},function(t,r,e){t.exports=e(47)},function(t,r,e){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isMatrix||!1}},function(t,r,e){"use strict";var n=e(51);r.mixin=function(t){var r=new n;return t.on=r.on.bind(r),t.off=r.off.bind(r),t.once=r.once.bind(r),t.emit=r.emit.bind(r),t}},function(t,r,e){"use strict";t.exports=[e(17),e(33),e(59),e(60),e(63),e(64),e(65),e(66),e(67),e(0),e(68),e(18)]},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=e(2).format,a=e(56).format,o=e(16);r.isString=function(t){return"string"==typeof t},r.endsWith=function(t,r){var e=t.length-r.length,n=t.length;return t.substring(e,n)===r},r.format=function(t,e){if("number"==typeof t)return i(t,e);if(o(t))return a(t,e);if(function(t){return t&&"object"===n(t)&&"number"==typeof t.s&&"number"==typeof t.n&&"number"==typeof t.d||!1}(t))return e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return function t(e,n){if(Array.isArray(e)){for(var i="[",a=e.length,o=0;o<a;o++)0!==o&&(i+=", "),i+=t(e[o],n);return i+="]"}return r.format(e,n)}(t,e);if(r.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"===n(t)){if("function"==typeof t.format)return t.format(e);if(t&&t.toString()!=={}.toString())return t.toString();var u=[];for(var s in t)t.hasOwnProperty(s)&&u.push('"'+s+'": '+r.format(t[s],e));return"{"+u.join(", ")+"}"}return String(t)},r.stringify=function(t){for(var r=String(t),e="",n=0;n<r.length;){var i=r.charAt(n);"\\"===i?(e+=i,n++,""!==(i=r.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(e+="\\"),e+=i):e+='"'===i?'\\"':i,n++}return'"'+e+'"'},r.escape=function(t){var r=String(t);return r=r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.memoize=function(t,r){return function e(){"object"!==n(e.cache)&&(e.cache={});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=r?r(i):JSON.stringify(i);return o in e.cache||(e.cache[o]=t.apply(t,i)),e.cache[o]}},r.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,r){var e=(r.match(/,/g)||[]).length+1;return Math.max(t,e)},-1)},r.callWithRightArgumentCount=function(t,r,e){return Object.keys(t.signatures||{}).reduce(function(t,r){var e=(r.match(/,/g)||[]).length+1;return Math.max(t,e)},-1)}},function(t,r,e){"use strict";var n=e(8),i=e(3),a=n.string,o=n.array,u=n.object,s=n.number,f=Array.isArray,c=s.isNumber,l=s.isInteger,p=a.isString,h=o.validateIndex;r.name="DenseMatrix",r.path="type",r.factory=function(t,r,s,m){var d=s(e(18)),v=s(e(17));function g(r,e){if(!(this instanceof g))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!p(e))throw new Error("Invalid datatype: "+e);if(t.isMatrix(r))"DenseMatrix"===r.type?(this._data=u.clone(r._data),this._size=u.clone(r._size),this._datatype=e||r._datatype):(this._data=r.toArray(),this._size=r.size(),this._datatype=e||r._datatype);else if(r&&f(r.data)&&f(r.size))this._data=r.data,this._size=r.size,this._datatype=e||r.datatype;else if(f(r))this._data=function t(r){for(var e=0,n=r.length;e<n;e++){var i=r[e];f(i)?r[e]=t(i):i&&!0===i.isMatrix&&(r[e]=t(i.valueOf()))}return r}(r),this._size=o.size(this._data),o.validate(this._data,this._size),this._datatype=e;else{if(r)throw new TypeError("Unsupported type of data ("+n.types.type(r)+")");this._data=[],this._size=[0],this._datatype=e}}function y(t,r,e){if(0===r.length){for(var n=t._data;f(n);)n=n[0];return n}return t._size=r.slice(0),t._data=o.resize(t._data,t._size,e),t}function b(t,r,e){for(var n=t._size.slice(0),i=!1;n.length<r.length;)n.push(0),i=!0;for(var a=0,o=r.length;a<o;a++)r[a]>n[a]&&(n[a]=r[a],i=!0);i&&y(t,n,e)}return g.prototype=new v,g.prototype.type="DenseMatrix",g.prototype.isDenseMatrix=!0,g.prototype.getDataType=function(){return d(this._data)},g.prototype.storage=function(){return"dense"},g.prototype.datatype=function(){return this._datatype},g.prototype.create=function(t,r){return new g(t,r)},g.prototype.subset=function(r,e,n){switch(arguments.length){case 1:return function(r,e){if(!t.isIndex(e))throw new TypeError("Invalid index");if(e.isScalar())return r.get(e.min());var n=e.size();if(n.length!==r._size.length)throw new i(n.length,r._size.length);for(var a=e.min(),o=e.max(),u=0,s=r._size.length;u<s;u++)h(a[u],r._size[u]),h(o[u],r._size[u]);return new g(function t(r,e,n,i){var a=i===n-1,o=e.dimension(i);return a?o.map(function(t){return h(t,r.length),r[t]}).valueOf():o.map(function(a){h(a,r.length);var o=r[a];return t(o,e,n,i+1)}).valueOf()}(r._data,e,n.length,0),r._datatype)}(this,r);case 2:case 3:return function(r,e,n,a){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var s,f=e.size(),c=e.isScalar();if(t.isMatrix(n)?(s=n.size(),n=n.valueOf()):s=o.size(n),c){if(0!==s.length)throw new TypeError("Scalar expected");r.set(e.min(),n,a)}else{if(f.length<r._size.length)throw new i(f.length,r._size.length,"<");if(s.length<f.length){for(var l=0,p=0;1===f[l]&&1===s[l];)l++;for(;1===f[l];)p++,l++;n=o.unsqueeze(n,f.length,p,s)}if(!u.deepEqual(f,s))throw new i(f,s,">");var m=e.max().map(function(t){return t+1});b(r,m,a);var d=f.length;!function t(r,e,n,i,a){var o=a===i-1,u=e.dimension(a);o?u.forEach(function(t,e){h(t),r[t]=n[e[0]]}):u.forEach(function(o,u){h(o),t(r[o],e,n[u[0]],i,a+1)})}(r._data,e,n,d,0)}return r}(this,r,e,n);default:throw new SyntaxError("Wrong number of arguments")}},g.prototype.get=function(t){if(!f(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new i(t.length,this._size.length);for(var r=0;r<t.length;r++)h(t[r],this._size[r]);for(var e=this._data,n=0,a=t.length;n<a;n++){var o=t[n];h(o,e.length),e=e[o]}return e},g.prototype.set=function(t,r,e){if(!f(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new i(t.length,this._size.length,"<");var n,a,o;b(this,t.map(function(t){return t+1}),e);var u=this._data;for(n=0,a=t.length-1;n<a;n++)o=t[n],h(o,u.length),u=u[o];return o=t[t.length-1],h(o,u.length),u[o]=r,this},g.prototype.resize=function(t,r,e){if(!f(t))throw new TypeError("Array expected");return y(e?this.clone():this,t,r)},g.prototype.reshape=function(t,r){var e=r?this.clone():this;return e._data=o.reshape(e._data,t),e._size=t.slice(0),e},g.prototype.clone=function(){return new g({data:u.clone(this._data),size:u.clone(this._size),datatype:this._datatype})},g.prototype.size=function(){return this._size.slice(0)},g.prototype.map=function(t){var r=this;return new g({data:function e(n,i){return f(n)?n.map(function(t,r){return e(t,i.concat(r))}):t(n,i,r)}(this._data,[]),size:u.clone(this._size),datatype:this._datatype})},g.prototype.forEach=function(t){var r=this;!function e(n,i){f(n)?n.forEach(function(t,r){e(t,i.concat(r))}):t(n,i,r)}(this._data,[])},g.prototype.toArray=function(){return u.clone(this._data)},g.prototype.valueOf=function(){return this._data},g.prototype.format=function(t){return a.format(this._data,t)},g.prototype.toString=function(){return a.format(this._data)},g.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},g.prototype.diagonal=function(r){if(r){if(t.isBigNumber(r)&&(r=r.toNumber()),!c(r)||!l(r))throw new TypeError("The parameter k must be an integer number")}else r=0;for(var e=r>0?r:0,n=r<0?-r:0,i=this._size[0],a=this._size[1],o=Math.min(i-n,a-e),u=[],s=0;s<o;s++)u[s]=this._data[s+n][s+e];return new g({data:u,size:[o],datatype:this._datatype})},g.diagonal=function(r,e,n,i,a){if(!f(r))throw new TypeError("Array expected, size parameter");if(2!==r.length)throw new Error("Only two dimensions matrix are supported");if(r=r.map(function(r){if(t.isBigNumber(r)&&(r=r.toNumber()),!c(r)||!l(r)||r<1)throw new Error("Size values must be positive integers");return r}),n){if(t.isBigNumber(n)&&(n=n.toNumber()),!c(n)||!l(n))throw new TypeError("The parameter k must be an integer number")}else n=0;i&&p(a)&&(i=m.convert(i,a));var u,s=n>0?n:0,h=n<0?-n:0,d=r[0],v=r[1],y=Math.min(d-h,v-s);if(f(e)){if(e.length!==y)throw new Error("Invalid value array length");u=function(t){return e[t]}}else if(t.isMatrix(e)){var b=e.size();if(1!==b.length||b[0]!==y)throw new Error("Invalid matrix length");u=function(t){return e.get([t])}}else u=function(){return e};i||(i=t.isBigNumber(u(0))?new t.BigNumber(0):0);var w=[];if(r.length>0){w=o.resize(w,r,i);for(var x=0;x<y;x++)w[x+h][x+s]=u(x)}return new g({data:w,size:[d,v]})},g.fromJSON=function(t){return new g(t)},g.prototype.swapRows=function(t,r){if(!(c(t)&&l(t)&&c(r)&&l(r)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(t,this._size[0]),h(r,this._size[0]),g._swapRows(t,r,this._data),this},g._swapRows=function(t,r,e){var n=e[t];e[t]=e[r],e[r]=n},t.Matrix._storage.dense=g,t.Matrix._storage.default=g,g},r.lazy=!1},function(t,r,e){"use strict";var n=e(3);r.name="algorithm01",r.factory=function(t,r,e,i){var a=t.DenseMatrix;return function(t,r,e,o){var u=t._data,s=t._size,f=t._datatype,c=r._values,l=r._index,p=r._ptr,h=r._size,m=r._datatype;if(s.length!==h.length)throw new n(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d,v,g=s[0],y=s[1],b="string"==typeof f&&f===m?f:void 0,w=b?i.find(e,[b,b]):e,x=[];for(d=0;d<g;d++)x[d]=[];var _=[],M=[];for(v=0;v<y;v++){for(var N=v+1,E=p[v],A=p[v+1],z=E;z<A;z++)_[d=l[z]]=o?w(c[z],u[d][v]):w(u[d][v],c[z]),M[d]=N;for(d=0;d<g;d++)M[d]===N?x[d][v]=_[d]:x[d][v]=u[d][v]}return new a({data:x,size:[g,y],datatype:b})}}},function(t,r,e){"use strict";r.name="algorithm10",r.factory=function(t,r,e,n){var i=t.DenseMatrix;return function(t,r,e,a){var o=t._values,u=t._index,s=t._ptr,f=t._size,c=t._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=f[0],h=f[1],m=e;"string"==typeof c&&(l=c,r=n.convert(r,l),m=n.find(e,[l,l]));for(var d=[],v=new i({data:d,size:[p,h],datatype:l}),g=[],y=[],b=0;b<h;b++){for(var w=b+1,x=s[b],_=s[b+1],M=x;M<_;M++){var N=u[M];g[N]=o[M],y[N]=w}for(var E=0;E<p;E++)0===b&&(d[E]=[]),y[E]===w?d[E][b]=a?m(r,g[E]):m(g[E],r):d[E][b]=r}return v}}},function(t,r,e){"use strict";var n=e(3);r.name="algorithm07",r.factory=function(t,r,e,i){var a=t.DenseMatrix;function o(t,r,e,n,i){for(var a=t._values,o=t._index,u=t._ptr,s=u[r],f=u[r+1];s<f;s++){var c=o[s];e[c]=i,n[c]=a[s]}}return function(t,r,e){var u=t._size,s=t._datatype,f=r._size,c=r._datatype;if(u.length!==f.length)throw new n(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var l,p,h,m=u[0],d=u[1],v=0,g=e;"string"==typeof s&&s===c&&(l=s,v=i.convert(0,l),g=i.find(e,[l,l]));var y=[];for(p=0;p<m;p++)y[p]=[];var b=new a({data:y,size:[m,d],datatype:l}),w=[],x=[],_=[],M=[];for(h=0;h<d;h++){var N=h+1;for(o(t,h,_,w,N),o(r,h,M,x,N),p=0;p<m;p++){var E=_[p]===N?w[p]:v,A=M[p]===N?x[p]:v;y[p][h]=g(E,A)}}return b}}},function(t,r,e){"use strict";r.name="algorithm12",r.factory=function(t,r,e,n){var i=t.DenseMatrix;return function(t,r,e,a){var o=t._values,u=t._index,s=t._ptr,f=t._size,c=t._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,p=f[0],h=f[1],m=e;"string"==typeof c&&(l=c,r=n.convert(r,l),m=n.find(e,[l,l]));for(var d=[],v=new i({data:d,size:[p,h],datatype:l}),g=[],y=[],b=0;b<h;b++){for(var w=b+1,x=s[b],_=s[b+1],M=x;M<_;M++){var N=u[M];g[N]=o[M],y[N]=w}for(var E=0;E<p;E++)0===b&&(d[E]=[]),y[E]===w?d[E][b]=a?m(r,g[E]):m(g[E],r):d[E][b]=a?m(r,0):m(0,r)}return v}}},function(t,r,e){"use strict";r.name="algorithm11",r.factory=function(t,r,n,i){var a=n(e(6)),o=t.SparseMatrix;return function(t,r,e,n){var u=t._values,s=t._index,f=t._ptr,c=t._size,l=t._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,h=c[0],m=c[1],d=a,v=0,g=e;"string"==typeof l&&(p=l,d=i.find(a,[p,p]),v=i.convert(0,p),r=i.convert(r,p),g=i.find(e,[p,p]));for(var y=[],b=[],w=[],x=new o({values:y,index:b,ptr:w,size:[h,m],datatype:p}),_=0;_<m;_++){w[_]=b.length;for(var M=f[_],N=f[_+1],E=M;E<N;E++){var A=s[E],z=n?g(r,u[E]):g(u[E],r);d(z,v)||(b.push(A),y.push(z))}}return w[m]=b.length,x}}},function(t,r,e){"use strict";var n=e(4);r.name="number",r.factory=function(t,r,e,i){var a=i("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var r=Number(t);if(isNaN(r))throw new SyntaxError('String "'+t+'" is no valid number');return r},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,r){return t.toNumber(r)},"Array | Matrix":function(t){return n(t,a)}});return a.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},a}},function(t,r,e){"use strict";var n=e(4);r.name="fraction",r.factory=function(t,r,e,i){var a=i("fraction",{number:function(r){if(!isFinite(r)||isNaN(r))throw new Error(r+" cannot be represented as a fraction");return new t.Fraction(r)},string:function(r){return new t.Fraction(r)},"number, number":function(r,e){return new t.Fraction(r,e)},null:function(r){return new t.Fraction(0)},BigNumber:function(r){return new t.Fraction(r.toString())},Fraction:function(t){return t},Object:function(r){return new t.Fraction(r)},"Array | Matrix":function(t){return n(t,a)}});return a}},function(t,r,e){"use strict";var n=e(5),i=e(2).isInteger;r.name="identity",r.factory=function(t,r,a,o){var u=a(e(0)),s=o("identity",{"":function(){return"Matrix"===r.matrix?u([]):[]},string:function(t){return u(t)},"number | BigNumber":function(t){return c(t,t,"Matrix"===r.matrix?"default":void 0)},"number | BigNumber, string":function(t,r){return c(t,t,r)},"number | BigNumber, number | BigNumber":function(t,e){return c(t,e,"Matrix"===r.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(t,r,e){return c(t,r,e)},Array:function(t){return f(t)},"Array, string":function(t,r){return f(t,r)},Matrix:function(t){return f(t.valueOf(),t.storage())},"Matrix, string":function(t,r){return f(t.valueOf(),r)}});return s.toTex=void 0,s;function f(t,r){switch(t.length){case 0:return r?u(r):[];case 1:return c(t[0],t[0],r);case 2:return c(t[0],t[1],r);default:throw new Error("Vector containing two values expected")}}function c(r,e,a){var o=t.isBigNumber(r)||t.isBigNumber(e)?t.BigNumber:null;if(t.isBigNumber(r)&&(r=r.toNumber()),t.isBigNumber(e)&&(e=e.toNumber()),!i(r)||r<1)throw new Error("Parameters in function identity must be positive integers");if(!i(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var u=o?new t.BigNumber(1):1,s=o?new o(0):0,f=[r,e];if(a)return t.Matrix.storage(a).diagonal(f,u,0,s);for(var c=n.resize([],f,s),l=r<e?r:e,p=0;p<l;p++)c[p][p]=u;return c}}},function(t,r,e){"use strict";var n=e(2).isInteger,i=e(5).size;r.name="pow",r.factory=function(t,r,a,o){var u=e(7),s=a(e(41)),f=a(e(9)),c=a(e(0)),l=a(e(40)),p=a(e(39)),h=o("pow",{"number, number":m,"Complex, Complex":function(t,r){return t.pow(r)},"BigNumber, BigNumber":function(e,n){return n.isInteger()||e>=0||r.predictable?e.pow(n):new t.Complex(e.toNumber(),0).pow(n.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1!==e.d){if(r.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return m(t.valueOf(),e.valueOf())}return t.pow(e)},"Array, number":d,"Array, BigNumber":function(t,r){return d(t,r.toNumber())},"Matrix, number":v,"Matrix, BigNumber":function(t,r){return v(t,r.toNumber())},"Unit, number | BigNumber":function(t,r){return t.pow(r)}});function m(e,i){if(r.predictable&&!n(i)&&e<0)try{var a=l(i),o=p(a);if((i===o||Math.abs((i-o)/i)<1e-14)&&a.d%2==1)return(a.n%2==0?1:-1)*Math.pow(-e,i)}catch(t){}return e*e<1&&i===1/0||e*e>1&&i===-1/0?0:r.predictable&&(e<-1&&i===1/0||e>-1&&e<0&&i===-1/0)?NaN:n(i)||e>=0||r.predictable?Math.pow(e,i):new t.Complex(e,0).pow(i,0)}function d(t,r){if(!n(r)||r<0)throw new TypeError("For A^b, b must be a positive integer (value is "+r+")");var e=i(t);if(2!==e.length)throw new Error("For A^b, A must be 2 dimensional (A has "+e.length+" dimensions)");if(e[0]!==e[1])throw new Error("For A^b, A must be square (size is "+e[0]+"x"+e[1]+")");for(var a=s(e[0]).valueOf(),o=t;r>=1;)1==(1&r)&&(a=f(o,a)),r>>=1,o=f(o,o);return a}function v(t,r){return c(d(t.valueOf(),r))}return h.toTex={2:"\\left(${args[0]}\\right)".concat(u.operators.pow,"{${args[1]}}")},h}},function(t,r,e){"use strict";var n=e(4);r.name="factorial",r.factory=function(t,r,i,a){var o=i(e(83)),u=e(7),s=a("factorial",{number:function(t){if(t<0)throw new Error("Value must be non-negative");return o(t+1)},BigNumber:function(t){if(t.isNegative())throw new Error("Value must be non-negative");return o(t.plus(1))},"Array | Matrix":function(t){return n(t,s)}});return s.toTex={1:"\\left(${args[0]}\\right)".concat(u.operators.factorial)},s}},function(t,r,e){const n=e(45);new p5(function(t){t.mouseData=[],t.renew=!1,t.bgColor=240,t.xmax=Math.min(t.displayWidth-64,768),t.ymax=Math.min(t.displayHeight/2,480),t.setup=function(){t.canvas=t.createCanvas(t.xmax,t.ymax),t.frameRate(24),t.reset()},t.mouseDragged=function(){if(t.isInside())return!1},t.isInside=function(){return t.mouseX>=0&&t.mouseX<=t.xmax&&t.mouseY>=0&&t.mouseY<=t.ymax},t.draw=function(){t.mouseIsPressed&&t.isInside()&&(t.renew&&t.reset(),t.line(t.mouseX,t.mouseY,t.pmouseX,t.pmouseY),t.renew=!1,t.mouseData.push(t.transformCoordinates(t.mouseX,t.mouseY)))},t.reset=function(){t.background(t.bgColor),t.mouseData=[]},t.mouseReleased=function(){t.renew=!0,n.plotSig(t.mouseData,level=5)},t.transformCoordinates=function(r,e){return[r/100,(t.ymax-e)/100]}},"canvasContainer")},function(t,r,e){const n=e(46),i=e(88),a=e(27).create();function o(t,r=3){var e=Math.pow(10,r);return Math.round(t*e)/e}function u(t){return function(r,e){var i=n.pathLength(t);return.5-a.factorial(e)*r/(2*Math.pow(i,e))}}function s(t,r,e=function(t){return-t/20+.5}){for(var u=document.createElement("table"),s=document.createElement("tbody"),f=Math.log2(t.length*t[0].length),c=i.scale("RdYlBu").padding(-.15),l=0;l<t.length;l++){for(var p=document.createElement("tr"),h=0;h<t[l].length;h++){var m=document.createElement("td"),d=c(e(t[l][h],f));m.style.backgroundColor=d;var v=i.contrast(d,"white")>i.contrast(d,"black")?"white":"black";m.style.color=v;var g=a.add(1,n.reindex([l,h],[t.length,t[l].length],new Array(f).fill(2,0,f)));tippy(m,{content:g,arrow:!0});var y=document.createElement("div");y.classList.add("sig-entry"),y.appendChild(document.createTextNode(o(t[l][h],3))),m.appendChild(y),p.appendChild(m)}s.appendChild(p)}u.appendChild(s),r.appendChild(u)}a.import(e(30)),a.import(e(89)),a.import(e(43)),a.import(e(13)),r.plotSig=function(t,r=5,e="signature"){document.getElementById(e).innerHTML="";for(var i={1:"pure-u-1-5",2:"pure-u-2-5",3:"pure-u-2-5",4:"pure-u-1-2",5:"pure-u-1-2"},o={1:"pure-u-lg-1-8",2:"pure-u-lg-1-6",3:"pure-u-lg-1-6",4:"pure-u-lg-1-4",5:"pure-u-lg-1-4"},f=n.sig(t,r),c=1;c<=r;c++){var l=document.createElement("div"),p=document.createElement("div");l.id="level"+c,l.classList.add(i[c]),l.classList.add(o[c]),p.classList.add("table-wrap");var h=document.createElement("h3");h.appendChild(document.createTextNode("S"+c)),p.appendChild(h),l.appendChild(p),document.getElementById(e).append(l);var m=[Math.pow(2,Math.ceil(c/2)),Math.pow(2,Math.floor(c/2))];s(a.reshape(f[c],m),p,u(t))}}},function(t,r,e){const n=e(27).create();function i(t,r){return Array.isArray(t)?n.map(t,function(t){return n.multiply(r,t)}):n.multiply(t,r)}function a(t,r){return 0==r?1:i(t,a(t,r-1))}function o(t,r){var e=n.prod(r);if(t>=e)throw new RangeError("Integer "+t+" is out of bounds with size "+e);if(1==r.length)return t;var i=r[r.length-1];return n.flatten([o(Math.floor(t/i),r.slice(0,-1)),t%i])}function u(t,r){if(t.length!=r.length)throw new RangeError("Index must have same length as shape");if(1==t.length)return t[0];var e=t[t.length-1],n=r[r.length-1];return u(t.slice(0,-1),r.slice(0,-1))*n+e}n.import(e(55)),n.import(e(30)),n.import(e(13)),n.import(e(23)),n.import(e(9)),n.import(e(70)),n.import(e(76)),n.import(e(79)),n.import(e(80)),n.import(e(81)),n.import(e(82)),n.import(e(43)),n.import(e(85)),r.tensorProduct=i,r.tensorPow=a,r.sig=function t(r,e){var o=n.size(r);if(2!=o.length)throw new RangeError("Path must be an N by d matrix");var u=o[0];if(o[1]<=0)throw new RangeError("Path must have positive dimension");if(1==u)return t([r[0],r[0]],e);for(var s=n.zeros([u-1,e+1]),f=0;f<u-1;f++)for(var c=n.subtract(r[f+1],r[f]),l=0;l<e+1;l++)s[f][l]=n.divide(a(c,l),n.factorial(l));var p=n.zeros([u-1,e+1]);p[0]=s[0];for(f=1;f<u-1;f++)for(p[f][0]=1,l=1;l<e+1;l++){for(var h=n.zeros(n.size(p[f-1][l])),m=0;m<=l;m++)h=n.add(h,i(p[f-1][m],s[f][l-m]));p[f][l]=h}return p[u-2]},r.pathLength=function(t){for(var r=0,e=t.length,i=0;i<e-1;i++){var a=n.subtract(t[i+1],t[i]);r+=n.norm(a)}return r},r.indexToInt=u,r.intToIndex=o,r.reindex=function(t,r,e){if(t.length!=r.length)throw new RangeError("Dimensions do not match");if(n.prod(r)!=n.prod(e))throw new RangeError("Shape ("+r+") is not compatible with ("+e+")");return o(u(t,r),e)}},function(t,r,e){"use strict";e(48);var n=e(1).isFactory,i=e(49),a=e(29),o=e(52),u=e(54);r.create=function(t){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var r=[],e=[],s=a.mixin({});s.type={},s.expression={transform:{},mathWithTransform:{}},s.typed=i.create(s.type);var f={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function c(t){if(!n(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,a=r.indexOf(t);return-1===a?(i=!0===t.math?t.factory(s.type,f,c,s.typed,s):t.factory(s.type,f,c,s.typed),r.push(t),e.push(i)):i=e[a],i}return s.import=c(o),s.config=c(u),s.expression.mathWithTransform.config=s.config,t&&s.config(t),s}},function(t,r,e){"use strict";Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isNaN=Number.isNaN||function(t){return t!=t}},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=e(50),a=e(2).digits,o=e(16),u=e(28),s=function(){return s=i.create,i};r.create=function(t){t.isNumber=function(t){return"number"==typeof t},t.isComplex=function(r){return t.Complex&&r instanceof t.Complex||!1},t.isBigNumber=o,t.isFraction=function(r){return t.Fraction&&r instanceof t.Fraction||!1},t.isUnit=function(t){return t&&t.constructor.prototype.isUnit||!1},t.isString=function(t){return"string"==typeof t},t.isArray=Array.isArray,t.isMatrix=u,t.isDenseMatrix=function(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix||!1},t.isSparseMatrix=function(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix||!1},t.isRange=function(t){return t&&t.constructor.prototype.isRange||!1},t.isIndex=function(t){return t&&t.constructor.prototype.isIndex||!1},t.isBoolean=function(t){return"boolean"==typeof t},t.isResultSet=function(t){return t&&t.constructor.prototype.isResultSet||!1},t.isHelp=function(t){return t&&t.constructor.prototype.isHelp||!1},t.isFunction=function(t){return"function"==typeof t},t.isDate=function(t){return t instanceof Date},t.isRegExp=function(t){return t instanceof RegExp},t.isObject=function(r){return"object"===n(r)&&r.constructor===Object&&!t.isComplex(r)&&!t.isFraction(r)},t.isNull=function(t){return null===t},t.isUndefined=function(t){return void 0===t},t.isAccessorNode=function(t){return t&&t.isAccessorNode&&t.constructor.prototype.isNode||!1},t.isArrayNode=function(t){return t&&t.isArrayNode&&t.constructor.prototype.isNode||!1},t.isAssignmentNode=function(t){return t&&t.isAssignmentNode&&t.constructor.prototype.isNode||!1},t.isBlockNode=function(t){return t&&t.isBlockNode&&t.constructor.prototype.isNode||!1},t.isConditionalNode=function(t){return t&&t.isConditionalNode&&t.constructor.prototype.isNode||!1},t.isConstantNode=function(t){return t&&t.isConstantNode&&t.constructor.prototype.isNode||!1},t.isFunctionAssignmentNode=function(t){return t&&t.isFunctionAssignmentNode&&t.constructor.prototype.isNode||!1},t.isFunctionNode=function(t){return t&&t.isFunctionNode&&t.constructor.prototype.isNode||!1},t.isIndexNode=function(t){return t&&t.isIndexNode&&t.constructor.prototype.isNode||!1},t.isNode=function(t){return t&&t.isNode&&t.constructor.prototype.isNode||!1},t.isObjectNode=function(t){return t&&t.isObjectNode&&t.constructor.prototype.isNode||!1},t.isOperatorNode=function(t){return t&&t.isOperatorNode&&t.constructor.prototype.isNode||!1},t.isParenthesisNode=function(t){return t&&t.isParenthesisNode&&t.constructor.prototype.isNode||!1},t.isRangeNode=function(t){return t&&t.isRangeNode&&t.constructor.prototype.isNode||!1},t.isSymbolNode=function(t){return t&&t.isSymbolNode&&t.constructor.prototype.isNode||!1},t.isChain=function(t){return t&&t.constructor.prototype.isChain||!1};var r=s();return r.types=[{name:"number",test:t.isNumber},{name:"Complex",test:t.isComplex},{name:"BigNumber",test:t.isBigNumber},{name:"Fraction",test:t.isFraction},{name:"Unit",test:t.isUnit},{name:"string",test:t.isString},{name:"Array",test:t.isArray},{name:"Matrix",test:t.isMatrix},{name:"DenseMatrix",test:t.isDenseMatrix},{name:"SparseMatrix",test:t.isSparseMatrix},{name:"Range",test:t.isRange},{name:"Index",test:t.isIndex},{name:"boolean",test:t.isBoolean},{name:"ResultSet",test:t.isResultSet},{name:"Help",test:t.isHelp},{name:"function",test:t.isFunction},{name:"Date",test:t.isDate},{name:"RegExp",test:t.isRegExp},{name:"null",test:t.isNull},{name:"undefined",test:t.isUndefined},{name:"OperatorNode",test:t.isOperatorNode},{name:"ConstantNode",test:t.isConstantNode},{name:"SymbolNode",test:t.isSymbolNode},{name:"ParenthesisNode",test:t.isParenthesisNode},{name:"FunctionNode",test:t.isFunctionNode},{name:"FunctionAssignmentNode",test:t.isFunctionAssignmentNode},{name:"ArrayNode",test:t.isArrayNode},{name:"AssignmentNode",test:t.isAssignmentNode},{name:"BlockNode",test:t.isBlockNode},{name:"ConditionalNode",test:t.isConditionalNode},{name:"IndexNode",test:t.isIndexNode},{name:"RangeNode",test:t.isRangeNode},{name:"Node",test:t.isNode},{name:"Object",test:t.isObject}],r.conversions=[{from:"number",to:"BigNumber",convert:function(r){if(a(r)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+r+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(r)}},{from:"number",to:"Complex",convert:function(r){return new t.Complex(r,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(r){return new t.Complex(r.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(r){return new t.Complex(r.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(r){if(new t.Fraction(r).valueOf()!==r)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+r+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(r)}},{from:"string",to:"number",convert:function(t){var r=Number(t);if(isNaN(r))throw new Error('Cannot convert "'+t+'" to a number');return r}},{from:"string",to:"BigNumber",convert:function(r){try{return new t.BigNumber(r)}catch(t){throw new Error('Cannot convert "'+r+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(r){try{return new t.Fraction(r)}catch(t){throw new Error('Cannot convert "'+r+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(r){try{return new t.Complex(r)}catch(t){throw new Error('Cannot convert "'+r+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(r){return new t.BigNumber(+r)}},{from:"boolean",to:"Fraction",convert:function(r){return new t.Fraction(+r)}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"Array",to:"Matrix",convert:function(r){return new t.DenseMatrix(r)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],r}},function(t,r,e){"use strict";var n,i,a;i=[],void 0===(a="function"==typeof(n=function(){function t(){return!0}function r(){return!1}function e(){}return function n(){var i=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"==typeof t&&t.constructor===Object}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],a={name:"any",test:t},o=[],u=[],s={types:i,conversions:u,ignore:o};function f(t){var r=j(s.types,function(r){return r.name===t});if(r)return r;if("any"===t)return a;var e=j(s.types,function(r){return r.name.toLowerCase()===t.toLowerCase()});throw new TypeError('Unknown type "'+t+'"'+(e?'. Did you mean "'+e.name+'"?':""))}function c(t){return t===a?999:s.types.indexOf(t)}function l(t){var r=j(s.types,function(r){return r.test(t)});if(r)return r.name;throw new TypeError("Value has unknown type. Value: "+t)}function p(t){return t.map(function(t){var r=t.types.map(w);return(t.restParam?"...":"")+r.join("|")}).join(",")}function h(t,r){var e=0===t.indexOf("..."),n=e?t.length>3?t.slice(3):"any":t,i=n.split("|").map(C).filter(F).filter(O),a=function(t,r){var e={};return t.forEach(function(t){-1!==r.indexOf(t.from)||-1===r.indexOf(t.to)||e[t.from]||(e[t.from]=t)}),Object.keys(e).map(function(t){return e[t]})}(r,i),o=i.map(function(t){var r=f(t);return{name:t,typeIndex:c(r),test:r.test,conversion:null,conversionIndex:-1}}),u=a.map(function(t){var e=f(t.from);return{name:t.from,typeIndex:c(e),test:e.test,conversion:t,conversionIndex:r.indexOf(t)}});return{types:o.concat(u),restParam:e}}function m(t){var r=T(t);return!!r&&r.restParam}function d(t){return t.types.some(function(t){return null!=t.conversion})}function v(r){if(r&&0!==r.types.length){if(1===r.types.length)return f(r.types[0].name).test;if(2===r.types.length){var e=f(r.types[0].name).test,n=f(r.types[1].name).test;return function(t){return e(t)||n(t)}}var i=r.types.map(function(t){return f(t.name).test});return function(t){for(var r=0;r<i.length;r++)if(i[r](t))return!0;return!1}}return t}function g(t){var r,e,n,i;if(m(t)){var a=(r=(i=t,i.slice(0,i.length-1)).map(v)).length,o=v(T(t));return function(t){for(var e=0;e<r.length;e++)if(!r[e](t[e]))return!1;return function(t){for(var r=a;r<t.length;r++)if(!o(t[r]))return!1;return!0}(t)&&t.length>=a+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(e=v(t[0]),function(t){return e(t[0])&&1===t.length}):2===t.length?(e=v(t[0]),n=v(t[1]),function(t){return e(t[0])&&n(t[1])&&2===t.length}):(r=t.map(v),function(t){for(var e=0;e<r.length;e++)if(!r[e](t[e]))return!1;return t.length===r.length})}function y(t,r){return r<t.params.length?t.params[r]:m(t.params)?T(t.params):null}function b(t,r,e){var n=y(t,r),i=n?e?n.types.filter(x):n.types:[];return i.map(w)}function w(t){return t.name}function x(t){return null===t.conversion||void 0===t.conversion}function _(t,r){var e=function(t){for(var r={},e=0;e<t.length;e++)r[t[e]]=!0;return Object.keys(r)}(R(t,function(t){return b(t,r,!1)}));return-1!==e.indexOf("any")?["any"]:e}function M(t){for(var r=999,e=0;e<t.types.length;e++)x(t.types[e])&&(r=Math.min(r,t.types[e].typeIndex));return r}function N(t){for(var r=999,e=0;e<t.types.length;e++)x(t.types[e])||(r=Math.min(r,t.types[e].conversionIndex));return r}function E(t,r){var e;return 0!=(e=t.restParam-r.restParam)?e:0!=(e=d(t)-d(r))?e:0!=(e=M(t)-M(r))?e:N(t)-N(r)}function A(t,r){var e,n,i=Math.min(t.params.length,r.params.length);if(0!=(n=t.params.some(d)-r.params.some(d)))return n;for(e=0;e<i;e++)if(0!=(n=d(t.params[e])-d(r.params[e])))return n;for(e=0;e<i;e++)if(0!==(n=E(t.params[e],r.params[e])))return n;return t.params.length-r.params.length}function z(t){var r,e,n,i,a=[],o=[];switch(t.types.forEach(function(t){t.conversion&&(a.push(f(t.conversion.from).test),o.push(t.conversion.convert))}),o.length){case 0:return function(t){return t};case 1:return r=a[0],n=o[0],function(t){return r(t)?n(t):t};case 2:return r=a[0],e=a[1],n=o[0],i=o[1],function(t){return r(t)?n(t):e(t)?i(t):t};default:return function(t){for(var r=0;r<o.length;r++)if(a[r](t))return o[r](t);return t}}}function S(t,r){return function t(e,n,i){if(n<e.length){var a,o=e[n],u=r?o.types.filter(x):o.types;if(o.restParam){var s=u.filter(x);a=s.length<u.length?[s,u]:[u]}else a=u.map(function(t){return[t]});return R(a,function(r){return t(e,n+1,i.concat([r]))})}var f=i.map(function(t,r){return{types:t,restParam:r===e.length-1&&m(e)}});return[f]}(t,0,[])}function k(t,n){if(0===Object.keys(n).length)throw new SyntaxError("No signatures provided");var i=[];Object.keys(n).map(function(t){return function(t,r,e){var n=[];return""!==t.trim()&&(n=t.split(",").map(C).map(function(t,r,n){var i=h(t,e);if(i.restParam&&r!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": only allowed for the last parameter');return i})),n.some(I)?null:{params:n,fn:r}}(t,n[t],s.conversions)}).filter(B).forEach(function(t){var r=j(i,function(r){return function(t,r){for(var e=Math.max(t.params.length,r.params.length),n=0;n<e;n++){var i=b(t,n,!0),a=b(r,n,!0);if(!D(i,a))return!1}var o=t.params.length,u=r.params.length,s=m(t.params),f=m(r.params);return s?f?o===u:u>=o:f?o>=u:o===u}(r,t)});if(r)throw new TypeError('Conflicting signatures "'+p(r.params)+'" and "'+p(t.params)+'".');i.push(t)});var a=R(i,function(t){var r=t?S(t.params,!1):[];return r.map(function(r){return{params:r,fn:t.fn}})}).filter(B);a.sort(A);var o=a[0]&&a[0].params.length<=2&&!m(a[0].params),u=a[1]&&a[1].params.length<=2&&!m(a[1].params),f=a[2]&&a[2].params.length<=2&&!m(a[2].params),c=a[3]&&a[3].params.length<=2&&!m(a[3].params),w=a[4]&&a[4].params.length<=2&&!m(a[4].params),x=a[5]&&a[5].params.length<=2&&!m(a[5].params),M=o&&u&&f&&c&&w&&x,N=a.map(function(t){return g(t.params)}),E=o?v(a[0].params[0]):r,k=u?v(a[1].params[0]):r,O=f?v(a[2].params[0]):r,F=c?v(a[3].params[0]):r,T=w?v(a[4].params[0]):r,U=x?v(a[5].params[0]):r,q=o?v(a[0].params[1]):r,L=u?v(a[1].params[1]):r,$=f?v(a[2].params[1]):r,G=c?v(a[3].params[1]):r,W=w?v(a[4].params[1]):r,J=x?v(a[5].params[1]):r,Y=a.map(function(t){return function(t,r){var e=r;if(t.some(d)){var n=m(t),i=t.map(z);e=function(){for(var t=[],e=n?arguments.length-1:arguments.length,a=0;a<e;a++)t[a]=i[a](arguments[a]);return n&&(t[e]=arguments[e].map(i[e])),r.apply(null,t)}}var a=e;if(m(t)){var o=t.length-1;a=function(){return e.apply(null,P(arguments,0,o).concat([P(arguments,o)]))}}return a}(t.params,t.fn)}),V=o?Y[0]:e,X=u?Y[1]:e,H=f?Y[2]:e,Z=c?Y[3]:e,K=w?Y[4]:e,Q=x?Y[5]:e,tt=o?a[0].params.length:-1,rt=u?a[1].params.length:-1,et=f?a[2].params.length:-1,nt=c?a[3].params.length:-1,it=w?a[4].params.length:-1,at=x?a[5].params.length:-1,ot=M?6:0,ut=a.length,st=function(){for(var r=ot;r<ut;r++)if(N[r](arguments))return Y[r].apply(null,arguments);throw function(t,r,e){var n,i,a,o=t||"unnamed",u=e;for(a=0;a<r.length;a++){var s=u.filter(function(t){var e=v(y(t,a));return(a<t.params.length||m(t.params))&&e(r[a])});if(0===s.length){if((i=_(u,a)).length>0){var f=l(r[a]);return(n=new TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+f+", index: "+a+")")).data={category:"wrongType",fn:o,index:a,actual:f,expected:i},n}}else u=s}var c=u.map(function(t){return m(t.params)?1/0:t.params.length});if(r.length<Math.min.apply(null,c))return i=_(u,a),(n=new TypeError("Too few arguments in function "+o+" (expected: "+i.join(" or ")+", index: "+r.length+")")).data={category:"tooFewArgs",fn:o,index:r.length,expected:i},n;var p=Math.max.apply(null,c);return r.length>p?((n=new TypeError("Too many arguments in function "+o+" (expected: "+p+", actual: "+r.length+")")).data={category:"tooManyArgs",fn:o,index:r.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+r.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:r.map(l)},n)}(t,arguments,a)},ft=function(t,r){return arguments.length===tt&&E(t)&&q(r)?V.apply(null,arguments):arguments.length===rt&&k(t)&&L(r)?X.apply(null,arguments):arguments.length===et&&O(t)&&$(r)?H.apply(null,arguments):arguments.length===nt&&F(t)&&G(r)?Z.apply(null,arguments):arguments.length===it&&T(t)&&W(r)?K.apply(null,arguments):arguments.length===at&&U(t)&&J(r)?Q.apply(null,arguments):st.apply(null,arguments)};try{Object.defineProperty(ft,"name",{value:t})}catch(t){}return ft.signatures=function(t){var r={};return t.forEach(function(t){t.params.some(d)||S(t.params,!0).forEach(function(e){r[p(e)]=t.fn})}),r}(a),ft}function O(t){return-1===s.ignore.indexOf(t)}function C(t){return t.trim()}function F(t){return!!t}function B(t){return null!==t}function I(t){return 0===t.types.length}function T(t){return t[t.length-1]}function P(t,r,e){return Array.prototype.slice.call(t,r,e)}function D(t,r){for(var e=0;e<t.length;e++)if(n=r,i=t[e],-1!==n.indexOf(i))return!0;var n,i;return!1}function j(t,r){for(var e=0;e<t.length;e++)if(r(t[e]))return t[e]}function R(t,r){return Array.prototype.concat.apply([],t.map(r))}function U(t){for(var r="",e=0;e<t.length;e++){var n=t[e];if(("object"==typeof n.signatures||"string"==typeof n.signature)&&""!==n.name)if(""===r)r=n.name;else if(r!==n.name){var i=new Error("Function names do not match (expected: "+r+", actual: "+n.name+")");throw i.data={actual:n.name,expected:r},i}}return r}function q(t){var r,e={};function n(t,n){if(e.hasOwnProperty(t)&&n!==e[t])throw(r=new Error('Signature "'+t+'" is defined twice')).data={signature:t},r}for(var i=0;i<t.length;i++){var a=t[i];if("object"==typeof a.signatures)for(var o in a.signatures)a.signatures.hasOwnProperty(o)&&(n(o,a.signatures[o]),e[o]=a.signatures[o]);else{if("string"!=typeof a.signature)throw(r=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},r;n(a.signature,a),e[a.signature]=a}}return e}return(s=k("typed",{"string, Object":k,Object:function(t){var r=[];for(var e in t)t.hasOwnProperty(e)&&r.push(t[e]);var n=U(r);return k(n,t)},"...Function":function(t){return k(U(t),q(t))},"string, ...Function":function(t,r){return k(t,q(r))}})).create=n,s.types=i,s.conversions=u,s.ignore=o,s.convert=function(t,r){var e=l(t);if(r===e)return t;for(var n=0;n<s.conversions.length;n++){var i=s.conversions[n];if(i.from===e&&i.to===r)return i.convert(t)}throw new Error("Cannot convert from "+e+" to "+r)},s.find=function(t,r){if(!t.signatures)throw new TypeError("Function is no typed-function");var e;if("string"==typeof r){e=r.split(",");for(var n=0;n<e.length;n++)e[n]=e[n].trim()}else{if(!Array.isArray(r))throw new TypeError("String array or a comma separated string expected");e=r}var i=e.join(","),a=t.signatures[i];if(a)return a;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+e.join(", ")+"))")},s.addType=function(t,r){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");if(!1!==r)for(var e=0;e<s.types.length;e++)if("Object"===s.types[e].name)return void s.types.splice(e,0,t);s.types.push(t)},s.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");s.conversions.push(t)},s}()})?n.apply(r,i):n)||(t.exports=a)},function(t,r){function e(){}e.prototype={on:function(t,r,e){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:r,ctx:e}),this},once:function(t,r,e){var n=this;function i(){n.off(t,i),r.apply(e,arguments)}return i._=r,this.on(t,i,e)},emit:function(t){for(var r=[].slice.call(arguments,1),e=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=e.length;n<i;n++)e[n].fn.apply(e[n].ctx,r);return this},off:function(t,r){var e=this.e||(this.e={}),n=e[t],i=[];if(n&&r)for(var a=0,o=n.length;a<o;a++)n[a].fn!==r&&n[a].fn._!==r&&i.push(n[a]);return i.length?e[t]=i:delete e[t],this}},t.exports=e,t.exports.TinyEmitter=e},function(t,r,e){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=e(1).lazy,a=e(1).isFactory,o=e(1).traverse,u=e(53);r.math=!0,r.name="import",r.factory=function(t,r,e,s,f){function c(t,r,e){if(e.wrap&&"function"==typeof r&&(i=function(){for(var t=[],r=0,e=arguments.length;r<e;r++){var i=arguments[r];t[r]=i&&i.valueOf()}return n.apply(f,t)},(n=r).transform&&(i.transform=n.transform),r=i),d(f[t])&&d(r))return r=e.override?s(t,r.signatures):s(f[t],r),f[t]=r,l(t,r),void f.emit("import",t,function(){return r});var n,i;if(void 0===f[t]||e.override)return f[t]=r,l(t,r),void f.emit("import",t,function(){return r});if(!e.silent)throw new Error('Cannot import "'+t+'": already exists')}function l(t,r){r&&"function"==typeof r.transform?(f.expression.transform[t]=r.transform,v(t)&&(f.expression.mathWithTransform[t]=r.transform)):(delete f.expression.transform[t],v(t)&&(f.expression.mathWithTransform[t]=r))}function p(t){delete f.expression.transform[t],v(t)?f.expression.mathWithTransform[t]=f[t]:delete f.expression.mathWithTransform[t]}function h(t,r){if("string"==typeof t.name){var n=t.name,a=n in f.expression.transform,u=t.path?o(f,t.path):f,c=u.hasOwnProperty(n)?u[n]:void 0,l=function(){var i=e(t);if(i&&"function"==typeof i.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(d(c)&&d(i))return r.override||(i=s(c,i)),i;if(void 0===c||r.override)return i;if(!r.silent)throw new Error('Cannot import "'+n+'": already exists')};!1!==t.lazy?(i(u,n,l),a?p(n):("expression.transform"===t.path||g(t))&&i(f.expression.mathWithTransform,n,l)):(u[n]=l(),a?p(n):("expression.transform"===t.path||g(t))&&(f.expression.mathWithTransform[n]=l())),f.emit("import",n,l,t.path)}else e(t)}function m(r){return"function"==typeof r||"number"==typeof r||"string"==typeof r||"boolean"==typeof r||null===r||r&&t.isUnit(r)||r&&t.isComplex(r)||r&&t.isBigNumber(r)||r&&t.isFraction(r)||r&&t.isMatrix(r)||r&&Array.isArray(r)}function d(t){return"function"==typeof t&&"object"===n(t.signatures)}function v(t){return!y.hasOwnProperty(t)}function g(t){return void 0===t.path&&!y.hasOwnProperty(t.name)}var y={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function t(r,e){var i=arguments.length;if(1!==i&&2!==i)throw new u("import",i,1,2);if(e||(e={}),a(r))h(r,e);else if(Array.isArray(r))r.forEach(function(r){t(r,e)});else if("object"===n(r)){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];m(s)?c(o,s,e):a(r)?h(r,e):t(s,e)}}else if(!e.silent)throw new TypeError("Factory, Object, or Array expected")}},r.lazy=!0},function(t,r,e){"use strict";function n(t,r,e,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=r,this.min=e,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+r+" provided, "+e+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="ArgumentsError",n.prototype.isArgumentsError=!0,t.exports=n},function(t,r,e){"use strict";var n=e(1);function i(t,r,e){if(void 0!==t[r]&&(i=e,a=t[r],-1===i.indexOf(a))){var n=function(t,r){return t.map(function(t){return t.toLowerCase()}).indexOf(r.toLowerCase())}(e,t[r]);-1!==n?(console.warn('Warning: Wrong casing for configuration option "'+r+'", should be "'+e[n]+'" instead of "'+t[r]+'".'),t[r]=e[n]):console.warn('Warning: Unknown value "'+t[r]+'" for configuration option "'+r+'". Available options: '+e.map(JSON.stringify).join(", ")+".")}var i,a}r.name="config",r.math=!0,r.factory=function(t,r,e,a,o){var u=["Matrix","Array"],s=["number","BigNumber","Fraction"];function f(t){if(t){var e=n.map(r,n.clone);i(t,"matrix",u),i(t,"number",s),n.deepExtend(r,t);var a=n.map(r,n.clone),f=n.map(t,n.clone);return o.emit("config",a,e,f),a}return n.map(r,n.clone)}return f.MATRIX=u,f.NUMBER=s,f}},function(t,r,e){
/**
 * math.js
 * https://github.com/josdejong/mathjs
 *
 * Math.js is an extensive math library for JavaScript and Node.js,
 * It features real and complex numbers, units, matrices, a large set of
 * mathematical functions, and a flexible expression parser.
 *
 * @version @@version
 * @date    @@date
 *
 * @license
 * Copyright (C) 2013-2019 Jos de Jong <wjosdejong@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */},function(t,r,e){"use strict";var n=e(1);r.format=function(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var i,a="auto";switch(void 0!==e&&(e.notation&&(a=e.notation),"number"==typeof e?i=e:e.precision&&(i=e.precision)),a){case"fixed":return r.toFixed(t,i);case"exponential":return r.toExponential(t,i);case"auto":if(e&&e.exponential&&(void 0!==e.exponential.lower||void 0!==e.exponential.upper)){var o=n.map(e,function(t){return t});return o.exponential=void 0,void 0!==e.exponential.lower&&(o.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(o.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(o)),r.format(t,o)}var u=e&&void 0!==e.lowerExp?e.lowerExp:-3,s=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";var f=t.e;return(f>=u&&f<s?t.toSignificantDigits(i).toFixed():r.toExponential(t,i)).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],r=arguments[4];return"."!==t?t+r:r});default:throw new Error('Unknown notation "'+a+'". Choose "auto", "exponential", or "fixed".')}},r.toExponential=function(t,r){return void 0!==r?t.toExponential(r-1):t.toExponential()},r.toFixed=function(t,r){return t.toFixed(r)}},function(t,r,e){"use strict";function n(t,r,e){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=r):(this.min=r,this.max=e),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}n.prototype=new RangeError,n.prototype.constructor=RangeError,n.prototype.name="IndexError",n.prototype.isIndexError=!0,t.exports=n},function(t,r,e){"use strict";r.isBoolean=function(t){return"boolean"==typeof t}},function(t,r,e){"use strict";var n=e(8),i=e(3),a=n.array,o=n.object,u=n.string,s=n.number,f=Array.isArray,c=s.isNumber,l=s.isInteger,p=u.isString,h=a.validateIndex;r.name="SparseMatrix",r.path="type",r.factory=function(t,r,m,d){var v=m(e(17)),g=m(e(6)),y=m(e(18));function b(r,e){if(!(this instanceof b))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!p(e))throw new Error("Invalid datatype: "+e);if(t.isMatrix(r))!function(t,r,e){"SparseMatrix"===r.type?(t._values=r._values?o.clone(r._values):void 0,t._index=o.clone(r._index),t._ptr=o.clone(r._ptr),t._size=o.clone(r._size),t._datatype=e||r._datatype):w(t,r.valueOf(),e||r._datatype)}(this,r,e);else if(r&&f(r.index)&&f(r.ptr)&&f(r.size))this._values=r.values,this._index=r.index,this._ptr=r.ptr,this._size=r.size,this._datatype=e||r.datatype;else if(f(r))w(this,r,e);else{if(r)throw new TypeError("Unsupported type of data ("+n.types.type(r)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}function w(t,r,e){t._values=[],t._index=[],t._ptr=[],t._datatype=e;var n=r.length,i=0,a=g,o=0;if(p(e)&&(a=d.find(g,[e,e])||g,o=d.convert(0,e)),n>0){var u=0;do{t._ptr.push(t._index.length);for(var s=0;s<n;s++){var c=r[s];if(f(c)){if(0===u&&i<c.length&&(i=c.length),u<c.length){var l=c[u];a(l,o)||(t._values.push(l),t._index.push(s))}}else 0===u&&i<1&&(i=1),a(c,o)||(t._values.push(c),t._index.push(s))}u++}while(u<i)}t._ptr.push(t._index.length),t._size=[n,i]}function x(t,r,e,n){if(e-r==0)return e;for(var i=r;i<e;i++)if(n[i]===t)return i;return r}function _(t,r,e,n,i,a,o){i.splice(t,0,n),a.splice(t,0,r);for(var u=e+1;u<o.length;u++)o[u]++}function M(t,r,e,n){var i=n||0,a=g,o=0;p(t._datatype)&&(a=d.find(g,[t._datatype,t._datatype])||g,o=d.convert(0,t._datatype),i=d.convert(i,t._datatype));var u,s,f,c=!a(i,o),l=t._size[0],h=t._size[1];if(e>h){for(s=h;s<e;s++)if(t._ptr[s]=t._values.length,c)for(u=0;u<l;u++)t._values.push(i),t._index.push(u);t._ptr[e]=t._values.length}else e<h&&(t._ptr.splice(e+1,h-e),t._values.splice(t._ptr[e],t._values.length),t._index.splice(t._ptr[e],t._index.length));if(h=e,r>l){if(c){var m=0;for(s=0;s<h;s++){t._ptr[s]=t._ptr[s]+m,f=t._ptr[s+1]+m;var v=0;for(u=l;u<r;u++,v++)t._values.splice(f+v,0,i),t._index.splice(f+v,0,u),m++}t._ptr[h]=t._values.length}}else if(r<l){var y=0;for(s=0;s<h;s++){t._ptr[s]=t._ptr[s]-y;var b=t._ptr[s],w=t._ptr[s+1]-y;for(f=b;f<w;f++)(u=t._index[f])>r-1&&(t._values.splice(f,1),t._index.splice(f,1),y++)}t._ptr[s]=t._values.length}return t._size[0]=r,t._size[1]=e,t}function N(t,r,e,n,i){var a,u,s=n[0],f=n[1],c=[];for(a=0;a<s;a++)for(c[a]=[],u=0;u<f;u++)c[a][u]=0;for(u=0;u<f;u++)for(var l=e[u],p=e[u+1],h=l;h<p;h++)c[a=r[h]][u]=t?i?o.clone(t[h]):t[h]:1;return c}return b.prototype=new v,b.prototype.type="SparseMatrix",b.prototype.isSparseMatrix=!0,b.prototype.getDataType=function(){return y(this._values)},b.prototype.storage=function(){return"sparse"},b.prototype.datatype=function(){return this._datatype},b.prototype.create=function(t,r){return new b(t,r)},b.prototype.density=function(){var t=this._size[0],r=this._size[1];return 0!==t&&0!==r?this._index.length/(t*r):0},b.prototype.subset=function(r,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(r,e){if(!t.isIndex(e))throw new TypeError("Invalid index");if(e.isScalar())return r.get(e.min());var n,a,o,u,s=e.size();if(s.length!==r._size.length)throw new i(s.length,r._size.length);var f=e.min(),c=e.max();for(n=0,a=r._size.length;n<a;n++)h(f[n],r._size[n]),h(c[n],r._size[n]);var l=r._values,p=r._index,m=r._ptr,d=e.dimension(0),v=e.dimension(1),g=[],y=[];d.forEach(function(t,r){y[t]=r[0],g[t]=!0});var w=l?[]:void 0,x=[],_=[];return v.forEach(function(t){for(_.push(x.length),o=m[t],u=m[t+1];o<u;o++)n=p[o],!0===g[n]&&(x.push(y[n]),w&&w.push(l[o]))}),_.push(x.length),new b({values:w,index:x,ptr:_,size:s,datatype:r._datatype})}(this,r);case 2:case 3:return function(r,e,n,u){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var s,f=e.size(),c=e.isScalar();if(t.isMatrix(n)?(s=n.size(),n=n.toArray()):s=a.size(n),c){if(0!==s.length)throw new TypeError("Scalar expected");r.set(e.min(),n,u)}else{if(1!==f.length&&2!==f.length)throw new i(f.length,r._size.length,"<");if(s.length<f.length){for(var l=0,p=0;1===f[l]&&1===s[l];)l++;for(;1===f[l];)p++,l++;n=a.unsqueeze(n,f.length,p,s)}if(!o.deepEqual(f,s))throw new i(f,s,">");for(var h=e.min()[0],m=e.min()[1],d=s[0],v=s[1],g=0;g<d;g++)for(var y=0;y<v;y++){var b=n[g][y];r.set([g+h,y+m],b,u)}}return r}(this,r,e,n);default:throw new SyntaxError("Wrong number of arguments")}},b.prototype.get=function(t){if(!f(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new i(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var r=t[0],e=t[1];h(r,this._size[0]),h(e,this._size[1]);var n=x(r,this._ptr[e],this._ptr[e+1],this._index);return n<this._ptr[e+1]&&this._index[n]===r?this._values[n]:0},b.prototype.set=function(t,r,e){if(!f(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new i(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var n=t[0],a=t[1],o=this._size[0],u=this._size[1],s=g,c=0;p(this._datatype)&&(s=d.find(g,[this._datatype,this._datatype])||g,c=d.convert(0,this._datatype)),(n>o-1||a>u-1)&&(M(this,Math.max(n+1,o),Math.max(a+1,u),e),o=this._size[0],u=this._size[1]),h(n,o),h(a,u);var l=x(n,this._ptr[a],this._ptr[a+1],this._index);return l<this._ptr[a+1]&&this._index[l]===n?s(r,c)?function(t,r,e,n,i){e.splice(t,1),n.splice(t,1);for(var a=r+1;a<i.length;a++)i[a]--}(l,a,this._values,this._index,this._ptr):this._values[l]=r:_(l,n,a,r,this._values,this._index,this._ptr),this},b.prototype.resize=function(t,r,e){if(!f(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");return t.forEach(function(r){if(!s.isNumber(r)||!s.isInteger(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")}),M(e?this.clone():this,t[0],t[1],r)},b.prototype.reshape=function(t,r){if(!f(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach(function(r){if(!s.isNumber(r)||!s.isInteger(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")}),this._size[0]*this._size[1]!=t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var e=r?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return e;for(var n=[],i=0;i<e._ptr.length;i++)for(var a=0;a<e._ptr[i+1]-e._ptr[i];a++)n.push(i);for(var o=e._values.slice(),c=e._index.slice(),l=0;l<e._index.length;l++){var p=c[l],h=n[l],m=p*e._size[1]+h;n[l]=m%t[1],c[l]=Math.floor(m/t[1])}e._values.length=0,e._index.length=0,e._ptr.length=t[1]+1,e._size=t.slice();for(var d=0;d<e._ptr.length;d++)e._ptr[d]=0;for(var v=0;v<o.length;v++){var g=c[v],y=n[v],b=o[v];_(x(g,e._ptr[y],e._ptr[y+1],e._index),g,y,b,e._values,e._index,e._ptr)}return e},b.prototype.clone=function(){return new b({values:this._values?o.clone(this._values):void 0,index:o.clone(this._index),ptr:o.clone(this._ptr),size:o.clone(this._size),datatype:this._datatype})},b.prototype.size=function(){return this._size.slice(0)},b.prototype.map=function(t,r){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var e=this;return function(t,r,e,n,i,a,o){var u=[],s=[],f=[],c=g,l=0;p(t._datatype)&&(c=d.find(g,[t._datatype,t._datatype])||g,l=d.convert(0,t._datatype));for(var h=function(t,r,e){t=a(t,r,e),c(t,l)||(u.push(t),s.push(r))},m=n;m<=i;m++){f.push(u.length);var v=t._ptr[m],y=t._ptr[m+1];if(o)for(var w=v;w<y;w++){var x=t._index[w];x>=r&&x<=e&&h(t._values[w],x-r,m-n)}else{for(var _={},M=v;M<y;M++){var N=t._index[M];_[N]=t._values[M]}for(var E=r;E<=e;E++){var A=E in _?_[E]:0;h(A,E-r,m-n)}}}return f.push(u.length),new b({values:u,index:s,ptr:f,size:[e-r+1,i-n+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(r,n,i){return t(r,[n,i],e)},r)},b.prototype.forEach=function(t,r){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var e=this._size[0],n=this._size[1],i=0;i<n;i++){var a=this._ptr[i],o=this._ptr[i+1];if(r)for(var u=a;u<o;u++){var s=this._index[u];t(this._values[u],[s,i],this)}else{for(var f={},c=a;c<o;c++)f[this._index[c]]=this._values[c];for(var l=0;l<e;l++)t(l in f?f[l]:0,[l,i],this)}}},b.prototype.toArray=function(){return N(this._values,this._index,this._ptr,this._size,!0)},b.prototype.valueOf=function(){return N(this._values,this._index,this._ptr,this._size,!1)},b.prototype.format=function(t){for(var r=this._size[0],e=this._size[1],n=this.density(),i="Sparse Matrix ["+u.format(r,t)+" x "+u.format(e,t)+"] density: "+u.format(n,t)+"\n",a=0;a<e;a++)for(var o=this._ptr[a],s=this._ptr[a+1],f=o;f<s;f++){var c=this._index[f];i+="\n    ("+u.format(c,t)+", "+u.format(a,t)+") ==> "+(this._values?u.format(this._values[f],t):"X")}return i},b.prototype.toString=function(){return u.format(this.toArray())},b.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},b.prototype.diagonal=function(r){if(r){if(t.isBigNumber(r)&&(r=r.toNumber()),!c(r)||!l(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var e=r>0?r:0,n=r<0?-r:0,i=this._size[0],a=this._size[1],o=Math.min(i-n,a-e),u=[],s=[],f=[];f[0]=0;for(var p=e;p<a&&u.length<o;p++)for(var h=this._ptr[p],m=this._ptr[p+1],d=h;d<m;d++){var v=this._index[d];if(v===p-e+n){u.push(this._values[d]),s[u.length-1]=v-n;break}}return f.push(u.length),new b({values:u,index:s,ptr:f,size:[o,1]})},b.fromJSON=function(t){return new b(t)},b.diagonal=function(r,e,n,i,a){if(!f(r))throw new TypeError("Array expected, size parameter");if(2!==r.length)throw new Error("Only two dimensions matrix are supported");if(r=r.map(function(r){if(t.isBigNumber(r)&&(r=r.toNumber()),!c(r)||!l(r)||r<1)throw new Error("Size values must be positive integers");return r}),n){if(t.isBigNumber(n)&&(n=n.toNumber()),!c(n)||!l(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o=g,u=0;p(a)&&(o=d.find(g,[a,a])||g,u=d.convert(0,a));var s,h=n>0?n:0,m=n<0?-n:0,v=r[0],y=r[1],w=Math.min(v-m,y-h);if(f(e)){if(e.length!==w)throw new Error("Invalid value array length");s=function(t){return e[t]}}else if(t.isMatrix(e)){var x=e.size();if(1!==x.length||x[0]!==w)throw new Error("Invalid matrix length");s=function(t){return e.get([t])}}else s=function(){return e};for(var _=[],M=[],N=[],E=0;E<y;E++){N.push(_.length);var A=E-h;if(A>=0&&A<w){var z=s(A);o(z,u)||(M.push(A+m),_.push(z))}}return N.push(_.length),new b({values:_,index:M,ptr:N,size:[v,y]})},b.prototype.swapRows=function(t,r){if(!(c(t)&&l(t)&&c(r)&&l(r)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(t,this._size[0]),h(r,this._size[0]),b._swapRows(t,r,this._size[1],this._values,this._index,this._ptr),this},b._forEachRow=function(t,r,e,n,i){for(var a=n[t],o=n[t+1],u=a;u<o;u++)i(e[u],r[u])},b._swapRows=function(t,r,e,n,i,a){for(var o=0;o<e;o++){var u=a[o],s=a[o+1],f=x(t,u,s,i),c=x(r,u,s,i);if(f<s&&c<s&&i[f]===t&&i[c]===r){if(n){var l=n[f];n[f]=n[c],n[c]=l}}else if(f<s&&i[f]===t&&(c>=s||i[c]!==r)){var p=n?n[f]:void 0;i.splice(c,0,r),n&&n.splice(c,0,p),i.splice(c<=f?f+1:f,1),n&&n.splice(c<=f?f+1:f,1)}else if(c<s&&i[c]===r&&(f>=s||i[f]!==t)){var h=n?n[c]:void 0;i.splice(f,0,t),n&&n.splice(f,0,h),i.splice(f<=c?c+1:c,1),n&&n.splice(f<=c?c+1:c,1)}}},t.Matrix._storage.sparse=b,b},r.lazy=!1},function(t,r,e){"use strict";r.name="Spa",r.path="type",r.factory=function(t,r,n){var i=n(e(13)),a=n(e(6));function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new t.FibonacciHeap}return o.prototype.type="Spa",o.prototype.isSpa=!0,o.prototype.set=function(t,r){if(this._values[t])this._values[t].value=r;else{var e=this._heap.insert(t,r);this._values[t]=e}},o.prototype.get=function(t){var r=this._values[t];return r?r.value:0},o.prototype.accumulate=function(t,r){var e=this._values[t];e?e.value=i(e.value,r):(e=this._heap.insert(t,r),this._values[t]=e)},o.prototype.forEach=function(t,r,e){var n=this._heap,i=this._values,o=[],u=n.extractMinimum();for(u&&o.push(u);u&&u.key<=r;)u.key>=t&&(a(u.value,0)||e(u.key,u.value,this)),(u=n.extractMinimum())&&o.push(u);for(var s=0;s<o.length;s++){var f=o[s];i[(u=n.insert(f.key,f.value)).key]=u}},o.prototype.swap=function(t,r){var e=this._values[t],n=this._values[r];if(!e&&n)e=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=e,this._values[r]=void 0;else if(e&&!n)n=this._heap.insert(r,e.value),this._heap.remove(e),this._values[r]=n,this._values[t]=void 0;else if(e&&n){var i=e.value;e.value=n.value,n.value=i}},o}},function(t,r,e){"use strict";var n=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},i={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},a={"":"\\--","":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},o=function(t,r){return n({},t,r)};t.exports=function(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=r.preserveFormatting,u=void 0!==e&&e,s=r.escapeMapFn,f=void 0===s?o:s,c=String(t),l="",p=f(n({},i),u?n({},a):{}),h=Object.keys(p),m=function(){var t=!1;h.forEach(function(r,e){t||c.length>=r.length&&c.slice(0,r.length)===r&&(l+=p[h[e]],c=c.slice(r.length,c.length),t=!0)}),t||(l+=c.slice(0,1),c=c.slice(1,c.length))};c;)m();return l}},function(t,r,e){"use strict";var n=e(3);r.name="algorithm04",r.factory=function(t,r,i,a){var o=i(e(6)),u=t.SparseMatrix;return function(t,r,e){var i=t._values,s=t._index,f=t._ptr,c=t._size,l=t._datatype,p=r._values,h=r._index,m=r._ptr,d=r._size,v=r._datatype;if(c.length!==d.length)throw new n(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var g,y=c[0],b=c[1],w=o,x=0,_=e;"string"==typeof l&&l===v&&(g=l,w=a.find(o,[g,g]),x=a.convert(0,g),_=a.find(e,[g,g]));var M,N,E,A,z,S=i&&p?[]:void 0,k=[],O=[],C=new u({values:S,index:k,ptr:O,size:[y,b],datatype:g}),F=i&&p?[]:void 0,B=i&&p?[]:void 0,I=[],T=[];for(N=0;N<b;N++){O[N]=k.length;var P=N+1;for(A=f[N],z=f[N+1],E=A;E<z;E++)M=s[E],k.push(M),I[M]=P,F&&(F[M]=i[E]);for(A=m[N],z=m[N+1],E=A;E<z;E++)if(I[M=h[E]]===P){if(F){var D=_(F[M],p[E]);w(D,x)?I[M]=null:F[M]=D}}else k.push(M),T[M]=P,B&&(B[M]=p[E]);if(F&&B)for(E=O[N];E<k.length;)I[M=k[E]]===P?(S[E]=F[M],E++):T[M]===P?(S[E]=B[M],E++):k.splice(E,1)}return O[b]=k.length,C}}},function(t,r,e){"use strict";r.name="FibonacciHeap",r.path="type",r.factory=function(t,r,n,i){var a=n(e(20)),o=n(e(22)),u=1/Math.log((1+Math.sqrt(5))/2);function s(){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function f(t,r,e){r.left.right=r.right,r.right.left=r.left,e.degree--,e.child===r&&(e.child=r.right),0===e.degree&&(e.child=null),r.left=t,r.right=t.right,t.right=r,r.right.left=r,r.parent=null,r.mark=!1}s.prototype.type="FibonacciHeap",s.prototype.isFibonacciHeap=!0,s.prototype.insert=function(t,r){var e={key:t,value:r,degree:0};if(this._minimum){var n=this._minimum;e.left=n,e.right=n.right,n.right=e,e.right.left=e,a(t,n.key)&&(this._minimum=e)}else e.left=e,e.right=e,this._minimum=e;return this._size++,e},s.prototype.size=function(){return this._size},s.prototype.clear=function(){this._minimum=null,this._size=0},s.prototype.isEmpty=function(){return 0===this._size},s.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var r=this._minimum,e=t.degree,n=t.child;e>0;){var i=n.right;n.left.right=n.right,n.right.left=n.left,n.left=r,n.right=r.right,r.right=n,n.right.left=n,n.parent=null,n=i,e--}return t.left.right=t.right,t.right.left=t.left,r=t===t.right?null:function(t,r){var e,n=Math.floor(Math.log(r)*u)+1,i=new Array(n),s=0,f=t;if(f)for(s++,f=f.right;f!==t;)s++,f=f.right;for(;s>0;){for(var l=f.degree,p=f.right;e=i[l];){if(o(f.key,e.key)){var h=e;e=f,f=h}c(e,f),i[l]=null,l++}i[l]=f,f=p,s--}t=null;for(var m=0;m<n;m++)(e=i[m])&&(t?(e.left.right=e.right,e.right.left=e.left,e.left=t,e.right=t.right,t.right=e,e.right.left=e,a(e.key,t.key)&&(t=e)):t=e);return t}(r=t.right,this._size),this._size--,this._minimum=r,t},s.prototype.remove=function(t){this._minimum=function(t,r,e){r.key=e;var n=r.parent;return n&&a(r.key,n.key)&&(f(t,r,n),function t(r,e){var n=e.parent;n&&(e.mark?(f(r,e,n),t(n)):e.mark=!0)}(t,n)),a(r.key,t.key)&&(t=r),t}(this._minimum,t,-1),this.extractMinimum()};var c=function(t,r){t.left.right=t.right,t.right.left=t.left,t.parent=r,r.child?(t.left=r.child,t.right=r.child.right,r.child.right=t,t.right.left=t):(r.child=t,t.right=t,t.left=t),r.degree++,t.mark=!1};return s}},function(t,r,e){"use strict";var n=e(8),i=n.string,a=n.object,o=Array.isArray,u=i.isString;r.name="ImmutableDenseMatrix",r.path="type",r.factory=function(t,r,i){var s=i(e(33)),f=i(e(20));function c(r,e){if(!(this instanceof c))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!u(e))throw new Error("Invalid datatype: "+e);if(t.isMatrix(r)||o(r)){var i=new s(r,e);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(r&&o(r.data)&&o(r.size))this._data=r.data,this._size=r.size,this._datatype=r.datatype,this._min=void 0!==r.min?r.min:null,this._max=void 0!==r.max?r.max:null;else{if(r)throw new TypeError("Unsupported type of data ("+n.types.type(r)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}return c.prototype=new s,c.prototype.type="ImmutableDenseMatrix",c.prototype.isImmutableDenseMatrix=!0,c.prototype.subset=function(r){switch(arguments.length){case 1:var e=s.prototype.subset.call(this,r);return t.isMatrix(e)?new c({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},c.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},c.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},c.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},c.prototype.clone=function(){return new c({data:a.clone(this._data),size:a.clone(this._size),datatype:this._datatype})},c.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},c.fromJSON=function(t){return new c(t)},c.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},c.prototype.min=function(){if(null===this._min){var t=null;this.forEach(function(r){(null===t||f(r,t))&&(t=r)}),this._min=null!==t?t:void 0}return this._min},c.prototype.max=function(){if(null===this._max){var t=null;this.forEach(function(r){(null===t||f(t,r))&&(t=r)}),this._max=null!==t?t:void 0}return this._max},c}},function(t,r,e){"use strict";var n=e(1).clone,i=e(2).isInteger;r.name="Index",r.path="type",r.factory=function(t){function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var i=0,a=arguments.length;i<a;i++){var o=arguments[i];if(t.isRange(o))this._dimensions.push(o),this._isScalar=!1;else if(Array.isArray(o)||t.isMatrix(o)){var u=e(o.valueOf());this._dimensions.push(u);var s=u.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(e([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function e(r){for(var e=0,n=r.length;e<n;e++)if("number"!=typeof r[e]||!i(r[e]))throw new TypeError("Index parameters must be positive integer numbers");return new t.ImmutableDenseMatrix(r)}return r.prototype.type="Index",r.prototype.isIndex=!0,r.prototype.clone=function(){var t=new r;return t._dimensions=n(this._dimensions),t._isScalar=this._isScalar,t},r.create=function(t){var e=new r;return r.apply(e,t),e},r.prototype.size=function(){for(var t=[],r=0,e=this._dimensions.length;r<e;r++){var n=this._dimensions[r];t[r]="string"==typeof n?1:n.size()[0]}return t},r.prototype.max=function(){for(var t=[],r=0,e=this._dimensions.length;r<e;r++){var n=this._dimensions[r];t[r]="string"==typeof n?n:n.max()}return t},r.prototype.min=function(){for(var t=[],r=0,e=this._dimensions.length;r<e;r++){var n=this._dimensions[r];t[r]="string"==typeof n?n:n.min()}return t},r.prototype.forEach=function(t){for(var r=0,e=this._dimensions.length;r<e;r++)t(this._dimensions[r],r,this)},r.prototype.dimension=function(t){return this._dimensions[t]||null},r.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var t=[],r=0,e=this._dimensions.length;r<e;r++){var n=this._dimensions[r];t.push("string"==typeof n?n:n.toArray())}return t},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var t=[],r=0,e=this._dimensions.length;r<e;r++){var n=this._dimensions[r];"string"==typeof n?t.push(JSON.stringify(n)):t.push(n.toString())}return"["+t.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(t){return r.create(t.dimensions)},r}},function(t,r,e){"use strict";var n=e(2);r.name="Range",r.path="type",r.factory=function(t,r,e,i){function a(r,e,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=r,o=null!=e,u=null!=n;if(i)if(t.isBigNumber(r))r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter start must be a number");if(o)if(t.isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(u)if(t.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(r):0,this.end=o?parseFloat(e):0,this.step=u?parseFloat(n):1}return a.prototype.type="Range",a.prototype.isRange=!0,a.parse=function(t){if("string"!=typeof t)return null;var r=t.split(":").map(function(t){return parseFloat(t)});if(r.some(function(t){return isNaN(t)}))return null;switch(r.length){case 2:return new a(r[0],r[1]);case 3:return new a(r[0],r[2],r[1]);default:return null}},a.prototype.clone=function(){return new a(this.start,this.end,this.step)},a.prototype.size=function(){var t=0,r=this.start,e=this.step,i=this.end-r;return n.sign(e)===n.sign(i)?t=Math.ceil(i/e):0===i&&(t=0),isNaN(t)&&(t=0),[t]},a.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},a.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},a.prototype.forEach=function(t){var r=this.start,e=this.step,n=this.end,i=0;if(e>0)for(;r<n;)t(r,[i],this),r+=e,i++;else if(e<0)for(;r>n;)t(r,[i],this),r+=e,i++},a.prototype.map=function(t){var r=[];return this.forEach(function(e,n,i){r[n[0]]=t(e,n,i)}),r},a.prototype.toArray=function(){var t=[];return this.forEach(function(r,e){t[e[0]]=r}),t},a.prototype.valueOf=function(){return this.toArray()},a.prototype.format=function(t){var r=n.format(this.start,t);return 1!==this.step&&(r+=":"+n.format(this.step,t)),r+=":"+n.format(this.end,t)},a.prototype.toString=function(){return this.format()},a.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},a.fromJSON=function(t){return new a(t.start,t.end,t.step)},a}},function(t,r,e){"use strict";r.name="index",r.factory=function(t,r,e,n){return n("index",{"...number | string | BigNumber | Range | Array | Matrix":function(r){var e=r.map(function(r){return t.isBigNumber(r)?r.toNumber():Array.isArray(r)||t.isMatrix(r)?r.map(function(r){return t.isBigNumber(r)?r.toNumber():r}):r}),n=new t.Index;return t.Index.apply(n,e),n}})}},function(t,r,e){"use strict";r.name="sparse",r.factory=function(t,r,e,n){var i=t.SparseMatrix,a=n("sparse",{"":function(){return new i([])},string:function(t){return new i([],t)},"Array | Matrix":function(t){return new i(t)},"Array | Matrix, string":function(t,r){return new i(t,r)}});return a.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},a}},function(t,r,e){"use strict";var n=e(3);r.name="algorithm05",r.factory=function(t,r,i,a){var o=i(e(6)),u=t.SparseMatrix;return function(t,r,e){var i=t._values,s=t._index,f=t._ptr,c=t._size,l=t._datatype,p=r._values,h=r._index,m=r._ptr,d=r._size,v=r._datatype;if(c.length!==d.length)throw new n(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var g,y=c[0],b=c[1],w=o,x=0,_=e;"string"==typeof l&&l===v&&(g=l,w=a.find(o,[g,g]),x=a.convert(0,g),_=a.find(e,[g,g]));var M,N,E,A,z=i&&p?[]:void 0,S=[],k=[],O=new u({values:z,index:S,ptr:k,size:[y,b],datatype:g}),C=z?[]:void 0,F=z?[]:void 0,B=[],I=[];for(N=0;N<b;N++){k[N]=S.length;var T=N+1;for(E=f[N],A=f[N+1];E<A;E++)M=s[E],S.push(M),B[M]=T,C&&(C[M]=i[E]);for(E=m[N],A=m[N+1];E<A;E++)B[M=h[E]]!==T&&S.push(M),I[M]=T,F&&(F[M]=p[E]);if(z)for(E=k[N];E<S.length;){var P=B[M=S[E]],D=I[M];if(P===T||D===T){var j=_(P===T?C[M]:x,D===T?F[M]:x);w(j,x)?S.splice(E,1):(z.push(j),E++)}}}return k[b]=S.length,O}}},function(t,r,e){"use strict";var n=e(1).extend;r.name="divide",r.factory=function(t,r,i,a){var o=i(e(25)),u=i(e(9)),s=i(e(73)),f=i(e(0)),c=i(e(38)),l=i(e(10)),p=a("divide",n({"Array | Matrix, Array | Matrix":function(t,r){return u(t,s(r))},"DenseMatrix, any":function(t,r){return l(t,r,o,!1)},"SparseMatrix, any":function(t,r){return c(t,r,o,!1)},"Array, any":function(t,r){return l(f(t),r,o,!1).valueOf()},"any, Array | Matrix":function(t,r){return u(t,s(r))}},o.signatures));return p.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},p}},function(t,r,e){"use strict";r.path="type",r.name="_numeric",r.factory=function(t,r,n,i){var a=n(e(12)),o={string:!0,number:!0,BigNumber:!0,Fraction:!0},u={number:n(e(39)),BigNumber:n(e(72)),Fraction:n(e(40))},s=function(t,r){var e=a(t);if(!(e in o))throw new TypeError("Cannot convert "+t+' of type "'+e+'"; valid input types are '+Object.keys(o).join(", "));if(!(r in u))throw new TypeError("Cannot convert "+t+' to type "'+r+'"; valid output types are '+Object.keys(u).join(", "));return r===e?t:u[r](t)};return s.toTex=function(t,r){return t.args[0].toTex()},s}},function(t,r,e){"use strict";var n=e(4);r.name="bignumber",r.factory=function(t,r,e,i){var a=i("bignumber",{"":function(){return new t.BigNumber(0)},number:function(r){return new t.BigNumber(r+"")},string:function(r){return new t.BigNumber(r)},BigNumber:function(t){return t},Fraction:function(r){return new t.BigNumber(r.n).div(r.d).times(r.s)},null:function(r){return new t.BigNumber(0)},"Array | Matrix":function(t){return n(t,a)}});return a.toTex={0:"0",1:"\\left(${args[0]}\\right)"},a}},function(t,r,e){"use strict";var n=e(8);r.name="inv",r.factory=function(t,r,i,a){var o=i(e(0)),u=i(e(25)),s=i(e(11)),f=i(e(9)),c=i(e(15)),l=i(e(74)),p=i(e(41)),h=i(e(26)),m=a("inv",{"Array | Matrix":function(r){var e=t.isMatrix(r)?r.size():n.array.size(r);switch(e.length){case 1:if(1===e[0])return t.isMatrix(r)?o([u(1,r.valueOf()[0])]):[u(1,r[0])];throw new RangeError("Matrix must be square (size: "+n.string.format(e)+")");case 2:var i=e[0],a=e[1];if(i===a)return t.isMatrix(r)?o(d(r.valueOf(),i,a),r.storage()):d(r,i,a);throw new RangeError("Matrix must be square (size: "+n.string.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+n.string.format(e)+")")}},any:function(t){return u(1,t)}});function d(t,r,e){var n,i,a,o,m;if(1===r){if(0===(o=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,o)]]}if(2===r){var d=l(t);if(0===d)throw Error("Cannot calculate inverse, determinant is zero");return[[u(t[1][1],d),u(c(t[0][1]),d)],[u(c(t[1][0]),d),u(t[0][0],d)]]}var v=t.concat();for(n=0;n<r;n++)v[n]=v[n].concat();for(var g=p(r).valueOf(),y=0;y<e;y++){var b=h(v[y][y]),w=y;for(n=y+1;n<r;)h(v[n][y])>b&&(b=h(v[n][y]),w=n),n++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(n=w)!==y&&(m=v[y],v[y]=v[n],v[n]=m,m=g[y],g[y]=g[n],g[n]=m);var x=v[y],_=g[y];for(n=0;n<r;n++){var M=v[n],N=g[n];if(n!==y){if(0!==M[y]){for(a=u(c(M[y]),x[y]),i=y;i<e;i++)M[i]=s(M[i],f(a,x[i]));for(i=0;i<e;i++)N[i]=s(N[i],f(a,_[i]))}}else{for(a=x[y],i=y;i<e;i++)M[i]=u(M[i],a);for(i=0;i<e;i++)N[i]=u(N[i],a)}}}return g}return m.toTex={1:"\\left(${args[0]}\\right)^{-1}"},m}},function(t,r,e){"use strict";var n=e(8),i=n.object,a=n.string;r.name="det",r.factory=function(t,r,n,o){var u=n(e(0)),s=n(e(23)),f=n(e(9)),c=n(e(15)),l=n(e(75)),p=o("det",{any:function(t){return i.clone(t)},"Array | Matrix":function(r){var e;switch((e=t.isMatrix(r)?r.size():Array.isArray(r)?(r=u(r)).size():[]).length){case 0:return i.clone(r);case 1:if(1===e[0])return i.clone(r.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");case 2:var n=e[0],o=e[1];if(n===o)return function(t,r,e){if(1===r)return i.clone(t[0][0]);if(2===r)return s(f(t[0][0],t[1][1]),f(t[1][0],t[0][1]));for(var n=l(t),a=n.U[0][0],o=1;o<r;o++)a=f(a,n.U[o][o]);for(var u=0,p=0,h=[];;){for(;h[p];)p++;if(p>=r)break;for(var m=p,d=0;!h[n.p[m]];)h[n.p[m]]=!0,m=n.p[m],d++;d%2==0&&u++}return u%2==0?a:c(a)}(r.clone().valueOf(),n);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(e)+")")}}});return p.toTex={1:"\\det\\left(${args[0]}\\right)"},p}},function(t,r,e){"use strict";var n=e(8).object;r.name="lup",r.factory=function(t,r,i,a){var o=i(e(0)),u=i(e(26)),s=i(e(11)),f=i(e(25)),c=i(e(24)),l=i(e(23)),p=i(e(22)),h=i(e(6)),m=i(e(15)),d=t.SparseMatrix,v=t.DenseMatrix,g=t.Spa;function y(t){var r,e,i,a=t._size[0],o=t._size[1],m=Math.min(a,o),d=n.clone(t._data),g=[],y=[a,m],b=[],w=[m,o],x=[];for(r=0;r<a;r++)x[r]=r;for(e=0;e<o;e++){if(e>0)for(r=0;r<a;r++){var _=Math.min(r,e),M=0;for(i=0;i<_;i++)M=s(M,c(d[r][i],d[i][e]));d[r][e]=l(d[r][e],M)}var N=e,E=0,A=0;for(r=e;r<a;r++){var z=d[r][e],S=u(z);p(S,E)&&(N=r,E=S,A=z)}if(e!==N&&(x[e]=[x[N],x[N]=x[e]][0],v._swapRows(e,N,d)),e<a)for(r=e+1;r<a;r++){var k=d[r][e];h(k,0)||(d[r][e]=f(d[r][e],A))}}for(e=0;e<o;e++)for(r=0;r<a;r++)0===e&&(r<o&&(b[r]=[]),g[r]=[]),r<e?(r<o&&(b[r][e]=d[r][e]),e<a&&(g[r][e]=0)):r!==e?(r<o&&(b[r][e]=0),e<a&&(g[r][e]=d[r][e])):(r<o&&(b[r][e]=d[r][e]),e<a&&(g[r][e]=1));var O=new v({data:g,size:y}),C=new v({data:b,size:w}),F=[];for(r=0,m=x.length;r<m;r++)F[x[r]]=r;return{L:O,U:C,p:F,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function b(t){var r,e,n,i=t._size[0],a=t._size[1],o=Math.min(i,a),s=t._values,l=t._index,v=t._ptr,y=[],b=[],w=[],x=[i,o],_=[],M=[],N=[],E=[o,a],A=[],z=[];for(r=0;r<i;r++)A[r]=r,z[r]=r;var S=function(){var t=new g;e<i&&(w.push(y.length),y.push(1),b.push(e)),N.push(_.length);var a=v[e],o=v[e+1];for(n=a;n<o;n++)r=l[n],t.set(A[r],s[n]);e>0&&t.forEach(0,e-1,function(r,e){d._forEachRow(r,y,b,w,function(n,i){n>r&&t.accumulate(n,m(c(i,e)))})});var S,k,O,C,F=e,B=t.get(e),I=u(B);t.forEach(e+1,i-1,function(t,r){var e=u(r);p(e,I)&&(F=t,I=e,B=r)}),e!==F&&(d._swapRows(e,F,x[1],y,b,w),d._swapRows(e,F,E[1],_,M,N),t.swap(e,F),k=F,O=z[S=e],C=z[k],A[O]=k,A[C]=S,z[S]=C,z[k]=O),t.forEach(0,i-1,function(t,r){t<=e?(_.push(r),M.push(t)):(r=f(r,B),h(r,0)||(y.push(r),b.push(t)))})};for(e=0;e<a;e++)S();return N.push(_.length),w.push(y.length),{L:new d({values:y,index:b,ptr:w,size:x}),U:new d({values:_,index:M,ptr:N,size:E}),p:A,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}return a("lup",{DenseMatrix:function(t){return y(t)},SparseMatrix:function(t){return b(t)},Array:function(t){var r=y(o(t));return{L:r.L.valueOf(),U:r.U.valueOf(),p:r.p}}})}},function(t,r,e){"use strict";r.name="norm",r.factory=function(t,r,n,i){var a=n(e(26)),o=n(e(13)),u=n(e(42)),s=n(e(77)),f=n(e(78)),c=n(e(9)),l=n(e(6)),p=n(e(22)),h=n(e(20)),m=n(e(0)),d=i("norm",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},boolean:function(t){return Math.abs(t)},Array:function(t){return v(m(t),2)},Matrix:function(t){return v(t,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(t){return d(t)},"Array, number | BigNumber | string":function(t,r){return v(m(t),r)},"Matrix, number | BigNumber | string":function(t,r){return v(t,r)}});function v(t,r){var e=t.size();if(1===e.length){if(r===Number.POSITIVE_INFINITY||"inf"===r){var n=0;return t.forEach(function(t){var r=a(t);p(r,n)&&(n=r)},!0),n}var i;if(r===Number.NEGATIVE_INFINITY||"-inf"===r)return t.forEach(function(t){var r=a(t);i&&!h(r,i)||(i=r)},!0),i||0;if("fro"===r)return v(t,2);if("number"==typeof r&&!isNaN(r)){if(!l(r,0)){var m=0;return t.forEach(function(t){m=o(u(a(t),r),m)},!0),u(m,1/r)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2===e.length){if(1===r){var d=[],g=0;return t.forEach(function(t,r){var e=r[1],n=o(d[e]||0,a(t));p(n,g)&&(g=n),d[e]=n},!0),g}if(r===Number.POSITIVE_INFINITY||"inf"===r){var y=[],b=0;return t.forEach(function(t,r){var e=r[0],n=o(y[e]||0,a(t));p(n,b)&&(b=n),y[e]=n},!0),b}if("fro"===r){var w=0;return t.forEach(function(t,r){w=o(w,c(t,s(t)))}),a(f(w))}if(2===r)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}return d.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},d}},function(t,r,e){"use strict";var n=e(4);r.name="conj",r.factory=function(t,r,e,i){var a=i("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return n(t,a)}});return a.toTex={1:"\\left(${args[0]}\\right)^*"},a}},function(t,r,e){"use strict";var n=e(4);r.name="sqrt",r.factory=function(t,r,e,i){var a=i("sqrt",{number:o,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||r.predictable?t.sqrt():o(t.toNumber())},"Array | Matrix":function(t){return n(t,a,!0)},Unit:function(t){return t.pow(.5)}});function o(e){return isNaN(e)?NaN:e>=0||r.predictable?Math.sqrt(e):new t.Complex(e,0).sqrt()}return a.toTex={1:"\\sqrt{${args[0]}}"},a}},function(t,r,e){"use strict";var n=e(5);r.name="size",r.factory=function(t,r,i,a){var o=i(e(0)),u=a("size",{Matrix:function(t){return o(t.size())},Array:n.size,string:function(t){return"Array"===r.matrix?[t.length]:o([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===r.matrix?[]:o([])}});return u.toTex=void 0,u}},function(t,r,e){"use strict";var n=e(2).isInteger,i=e(5).resize;r.name="zeros",r.factory=function(t,r,a,o){var u=a(e(0)),s=o("zeros",{"":function(){return"Array"===r.matrix?f([]):f([],"default")},"...number | BigNumber | string":function(t){if("string"==typeof t[t.length-1]){var e=t.pop();return f(t,e)}return"Array"===r.matrix?f(t):f(t,"default")},Array:f,Matrix:function(t){var r=t.storage();return f(t.valueOf(),r)},"Array | Matrix, string":function(t,r){return f(t.valueOf(),r)}});return s.toTex=void 0,s;function f(r,e){var a=function(r){var e=!1;return r.forEach(function(r,n,i){t.isBigNumber(r)&&(e=!0,i[n]=r.toNumber())}),e}(r)?new t.BigNumber(0):0;if(function(t){t.forEach(function(t){if("number"!=typeof t||!n(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")})}(r),e){var o=u(e);return r.length>0?o.resize(r,a):o}var s=[];return r.length>0?i(s,r,a):s}}},function(t,r,e){"use strict";var n=e(32).maxArgumentCount;function i(t,r){var e=n(r);return function n(i,a){return Array.isArray(i)?i.map(function(t,r){return n(t,a.concat(r))}):1===e?r(i):2===e?r(i,a):r(i,a,t)}(t,[])}r.name="map",r.factory=function(t,r,e,n){var a=n("map",{"Array, function":i,"Matrix, function":function(t,r){return t.map(r)}});return a.toTex=void 0,a}},function(t,r,e){"use strict";var n=e(1).clone,i=e(5).flatten;r.name="flatten",r.factory=function(t,r,a,o){var u=a(e(0)),s=o("flatten",{Array:function(t){return i(n(t))},Matrix:function(t){var r=i(n(t.toArray()));return u(r)}});return s.toTex=void 0,s}},function(t,r,e){"use strict";var n=e(4),i=e(2).isInteger;var a=4.7421875,o=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];r.name="gamma",r.factory=function(t,r,u,s){var f=u(e(9)),c=u(e(42)),l=e(84),p=s("gamma",{number:function(t){var r,e;if(i(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:l(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*p(1-t));if(t>=171.35)return 1/0;if(t>85){var n=t*t,u=n*t,s=u*t,f=s*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*n)-139/(51840*u)-571/(2488320*s)+163879/(209018880*f)+5246819/(75246796800*f*t))}--t,e=o[0];for(var c=1;c<o.length;++c)e+=o[c]/(t+c);return r=t+a+.5,Math.sqrt(2*Math.PI)*Math.pow(r,t+.5)*Math.exp(-r)*e},Complex:function(r){var e,n;if(0===r.im)return p(r.re);r=new t.Complex(r.re-1,r.im),n=new t.Complex(o[0],0);for(var i=1;i<o.length;++i){var u=r.re+i,s=u*u+r.im*r.im;0!==s?(n.re+=o[i]*u/s,n.im+=-o[i]*r.im/s):n.re=o[i]<0?-1/0:1/0}e=new t.Complex(r.re+a+.5,r.im);var l=Math.sqrt(2*Math.PI);r.re+=.5;var h=c(e,r);0===h.im?h.re*=l:0===h.re?h.im*=l:(h.re*=l,h.im*=l);var m=Math.exp(-e.re);return e.re=m*Math.cos(-e.im),e.im=m*Math.sin(-e.im),f(f(h,e),n)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new t.BigNumber(1/0):function(e){if(e.isZero())return new t.BigNumber(1);for(var n=r.precision+(0|Math.log(e.toNumber())),i=new(t.BigNumber.clone({precision:n}))(e),a=e.toNumber()-1;a>1;)i=i.times(a),a--;return new t.BigNumber(i.toPrecision(t.BigNumber.precision))}(e.minus(1));if(!e.isFinite())return new t.BigNumber(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(t){return n(t,p)}});return p.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},p}},function(t,r,e){"use strict";t.exports=function t(r,e){var n;return e<r?1:e===r?e:t(r,n=e+r>>1)*t(n+1,e)}},function(t,r,e){"use strict";var n=e(86);r.name="prod",r.factory=function(t,r,i,a){var o=i(e(24)),u=i(e(87)),s=a("prod",{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(t,r){throw new Error("prod(A, dim) is not yet supported")},"...":function(t){return f(t)}});return s.toTex=void 0,s;function f(t){var r;if(n(t,function(t){try{r=void 0===r?t:o(r,t)}catch(r){throw u(r,"prod",t)}}),void 0===r)throw new Error("Cannot calculate prod of an empty array");return r}}},function(t,r,e){"use strict";var n=e(28);t.exports=function t(r,e){n(r)&&(r=r.valueOf());for(var i=0,a=r.length;i<a;i++){var o=r[i];Array.isArray(o)?t(o,e):e(o)}}},function(t,r,e){"use strict";r.factory=function(t,r,n,i){var a=n(e(12));return function(t,r,e){var n;return-1!==String(t).indexOf("Unexpected type")?(n=arguments.length>2?" (type: "+a(e)+", value: "+JSON.stringify(e)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+r+", unexpected type of argument"+n)):-1!==String(t).indexOf("complex numbers")?(n=arguments.length>2?" (type: "+a(e)+", value: "+JSON.stringify(e)+")":"",new TypeError("Cannot calculate "+r+", no ordering relation is defined for complex numbers"+n)):t}}},function(t,r,e){
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2018, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
t.exports=function(){"use strict";for(var t=function(t,r,e){return void 0===r&&(r=0),void 0===e&&(e=1),t<r?r:t>e?e:t},r={},e=0,n=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];e<n.length;e+=1){var i=n[e];r["[object "+i+"]"]=i.toLowerCase()}var a=function(t){return r[Object.prototype.toString.call(t)]||"object"},o=Math.PI,u={clip_rgb:function(r){r._clipped=!1,r._unclipped=r.slice(0);for(var e=0;e<=3;e++)e<3?((r[e]<0||r[e]>255)&&(r._clipped=!0),r[e]=t(r[e],0,255)):3===e&&(r[e]=t(r[e],0,1));return r},limit:t,type:a,unpack:function(t,r){return void 0===r&&(r=null),t.length>=3?Array.prototype.slice.call(t):"object"==a(t[0])&&r?r.split("").filter(function(r){return void 0!==t[0][r]}).map(function(r){return t[0][r]}):t[0]},last:function(t){if(t.length<2)return null;var r=t.length-1;return"string"==a(t[r])?t[r].toLowerCase():null},PI:o,TWOPI:2*o,PITHIRD:o/3,DEG2RAD:o/180,RAD2DEG:180/o},s={format:{},autodetect:[]},f=u.last,c=u.clip_rgb,l=u.type,p=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if("object"===l(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var e=f(t),n=!1;if(!e){n=!0,s.sorted||(s.autodetect=s.autodetect.sort(function(t,r){return r.p-t.p}),s.sorted=!0);for(var i=0,a=s.autodetect;i<a.length;i+=1){var o=a[i];if(e=o.test.apply(o,t))break}}if(!s.format[e])throw new Error("unknown format: "+t);var u=s.format[e].apply(null,n?t:t.slice(0,-1));this._rgb=c(u),3===this._rgb.length&&this._rgb.push(1)};p.prototype.toString=function(){return"function"==l(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var h=p,m=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(m.Color,[null].concat(t)))};m.Color=h,m.version="2.0.3";var d=m,v=u.unpack,g=Math.max,y=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=v(t,"rgb"),n=e[0],i=e[1],a=e[2],o=1-g(n/=255,g(i/=255,a/=255)),u=o<1?1/(1-o):0,s=(1-n-o)*u,f=(1-i-o)*u,c=(1-a-o)*u;return[s,f,c,o]},b=u.unpack,w=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=(t=b(t,"cmyk"))[0],n=t[1],i=t[2],a=t[3],o=t.length>4?t[4]:1;return 1===a?[0,0,0,o]:[e>=1?0:255*(1-e)*(1-a),n>=1?0:255*(1-n)*(1-a),i>=1?0:255*(1-i)*(1-a),o]},x=u.unpack,_=u.type;h.prototype.cmyk=function(){return y(this._rgb)},d.cmyk=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["cmyk"])))},s.format.cmyk=w,s.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=x(t,"cmyk"),"array"===_(t)&&4===t.length)return"cmyk"}});var M=u.unpack,N=u.last,E=function(t){return Math.round(100*t)/100},A=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=M(t,"hsla"),n=N(t)||"lsa";return e[0]=E(e[0]||0),e[1]=E(100*e[1])+"%",e[2]=E(100*e[2])+"%","hsla"===n||e.length>3&&e[3]<1?(e[3]=e.length>3?e[3]:1,n="hsla"):e.length=3,n+"("+e.join(",")+")"},z=u.unpack,S=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=(t=z(t,"rgba"))[0],n=t[1],i=t[2];e/=255,n/=255,i/=255;var a,o,u=Math.min(e,n,i),s=Math.max(e,n,i),f=(s+u)/2;return s===u?(a=0,o=Number.NaN):a=f<.5?(s-u)/(s+u):(s-u)/(2-s-u),e==s?o=(n-i)/(s-u):n==s?o=2+(i-e)/(s-u):i==s&&(o=4+(e-n)/(s-u)),(o*=60)<0&&(o+=360),t.length>3&&void 0!==t[3]?[o,a,f,t[3]]:[o,a,f]},k=u.unpack,O=u.last,C=Math.round,F=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=k(t,"rgba"),n=O(t)||"rgb";return"hsl"==n.substr(0,3)?A(S(e),n):(e[0]=C(e[0]),e[1]=C(e[1]),e[2]=C(e[2]),("rgba"===n||e.length>3&&e[3]<1)&&(e[3]=e.length>3?e[3]:1,n="rgba"),n+"("+e.slice(0,"rgb"===n?3:4).join(",")+")")},B=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,I=/^#?([A-Fa-f0-9]{8})$/,T=function(t){if(t.match(B)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var r=parseInt(t,16),e=r>>16,n=r>>8&255,i=255&r;return[e,n,i,1]}if(t.match(I)){9===t.length&&(t=t.substr(1));var a=parseInt(t,16),o=a>>24&255,u=a>>16&255,s=a>>8&255,f=Math.round((255&a)/255*100)/100;return[o,u,s,f]}throw new Error("unknown hex color: "+t)},P=u.unpack,D=Math.round,j=function(){for(var t,r=[],e=arguments.length;e--;)r[e]=arguments[e];var n,i,a,o=(r=P(r,"hsl"))[0],u=r[1],s=r[2];if(0===u)n=i=a=255*s;else{var f=[0,0,0],c=[0,0,0],l=s<.5?s*(1+u):s+u-s*u,p=2*s-l,h=o/360;f[0]=h+1/3,f[1]=h,f[2]=h-1/3;for(var m=0;m<3;m++)f[m]<0&&(f[m]+=1),f[m]>1&&(f[m]-=1),6*f[m]<1?c[m]=p+6*(l-p)*f[m]:2*f[m]<1?c[m]=l:3*f[m]<2?c[m]=p+(l-p)*(2/3-f[m])*6:c[m]=p;t=[D(255*c[0]),D(255*c[1]),D(255*c[2])],n=t[0],i=t[1],a=t[2]}return r.length>3?[n,i,a,r[3]]:[n,i,a,1]},R={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},U=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,q=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,L=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,$=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,G=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,W=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,J=Math.round,Y=function(t){if(t=t.toLowerCase().trim(),R[t])return T(R[t]);var r;if(r=t.match(U)){for(var e=r.slice(1,4),n=0;n<3;n++)e[n]=+e[n];return e[3]=1,e}if(r=t.match(q)){for(var i=r.slice(1,5),a=0;a<4;a++)i[a]=+i[a];return i}if(r=t.match(L)){for(var o=r.slice(1,4),u=0;u<3;u++)o[u]=J(2.55*o[u]);return o[3]=1,o}if(r=t.match($)){for(var s=r.slice(1,5),f=0;f<3;f++)s[f]=J(2.55*s[f]);return s[3]=+s[3],s}if(r=t.match(G)){var c=r.slice(1,4);c[1]*=.01,c[2]*=.01;var l=j(c);return l[3]=1,l}if(r=t.match(W)){var p=r.slice(1,4);p[1]*=.01,p[2]*=.01;var h=j(p);return h[3]=+r[4],h}};Y.test=function(t){return U.test(t)||q.test(t)||L.test(t)||$.test(t)||G.test(t)||W.test(t)};var V=Y,X=u.type;h.prototype.css=function(t){return F(this._rgb,t)},d.css=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["css"])))},s.format.css=V,s.autodetect.push({p:5,test:function(t){for(var r=[],e=arguments.length-1;e-- >0;)r[e]=arguments[e+1];if(!r.length&&"string"===X(t)&&V.test(t))return"css"}});var H=u.unpack;s.format.gl=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=H(t,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e},d.gl=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["gl"])))},h.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var Z=u.unpack,K=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e,n=Z(t,"rgb"),i=n[0],a=n[1],o=n[2],u=Math.min(i,a,o),s=Math.max(i,a,o),f=s-u,c=100*f/255,l=u/(255-f)*100;return 0===f?e=Number.NaN:(i===s&&(e=(a-o)/f),a===s&&(e=2+(o-i)/f),o===s&&(e=4+(i-a)/f),(e*=60)<0&&(e+=360)),[e,c,l]},Q=u.unpack,tt=Math.floor,rt=function(){for(var t,r,e,n,i,a,o=[],u=arguments.length;u--;)o[u]=arguments[u];var s,f,c,l=(o=Q(o,"hcg"))[0],p=o[1],h=o[2];h*=255;var m=255*p;if(0===p)s=f=c=h;else{360===l&&(l=0),l>360&&(l-=360),l<0&&(l+=360);var d=tt(l/=60),v=l-d,g=h*(1-p),y=g+m*(1-v),b=g+m*v,w=g+m;switch(d){case 0:s=(t=[w,b,g])[0],f=t[1],c=t[2];break;case 1:s=(r=[y,w,g])[0],f=r[1],c=r[2];break;case 2:s=(e=[g,w,b])[0],f=e[1],c=e[2];break;case 3:s=(n=[g,y,w])[0],f=n[1],c=n[2];break;case 4:s=(i=[b,g,w])[0],f=i[1],c=i[2];break;case 5:s=(a=[w,g,y])[0],f=a[1],c=a[2]}}return[s,f,c,o.length>3?o[3]:1]},et=u.unpack,nt=u.type;h.prototype.hcg=function(){return K(this._rgb)},d.hcg=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["hcg"])))},s.format.hcg=rt,s.autodetect.push({p:1,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=et(t,"hcg"),"array"===nt(t)&&3===t.length)return"hcg"}});var it=u.unpack,at=u.last,ot=Math.round,ut=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=it(t,"rgba"),n=e[0],i=e[1],a=e[2],o=e[3],u=at(t)||"auto";void 0===o&&(o=1),"auto"===u&&(u=o<1?"rgba":"rgb"),n=ot(n),i=ot(i),a=ot(a);var s=n<<16|i<<8|a,f="000000"+s.toString(16);f=f.substr(f.length-6);var c="0"+ot(255*o).toString(16);switch(c=c.substr(c.length-2),u.toLowerCase()){case"rgba":return"#"+f+c;case"argb":return"#"+c+f;default:return"#"+f}},st=u.type;h.prototype.hex=function(t){return ut(this._rgb,t)},d.hex=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["hex"])))},s.format.hex=T,s.autodetect.push({p:4,test:function(t){for(var r=[],e=arguments.length-1;e-- >0;)r[e]=arguments[e+1];if(!r.length&&"string"===st(t)&&[3,4,6,7,8,9].includes(t.length))return"hex"}});var ft=u.unpack,ct=u.TWOPI,lt=Math.min,pt=Math.sqrt,ht=Math.acos,mt=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e,n=ft(t,"rgb"),i=n[0],a=n[1],o=n[2],u=lt(i/=255,a/=255,o/=255),s=(i+a+o)/3,f=s>0?1-u/s:0;return 0===f?e=NaN:(e=(i-a+(i-o))/2,e/=pt((i-a)*(i-a)+(i-o)*(a-o)),e=ht(e),o>a&&(e=ct-e),e/=ct),[360*e,f,s]},dt=u.unpack,vt=u.limit,gt=u.TWOPI,yt=u.PITHIRD,bt=Math.cos,wt=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e,n,i,a=(t=dt(t,"hsi"))[0],o=t[1],u=t[2];return isNaN(a)&&(a=0),isNaN(o)&&(o=0),a>360&&(a-=360),a<0&&(a+=360),(a/=360)<1/3?(i=(1-o)/3,e=(1+o*bt(gt*a)/bt(yt-gt*a))/3,n=1-(i+e)):a<2/3?(e=(1-o)/3,n=(1+o*bt(gt*(a-=1/3))/bt(yt-gt*a))/3,i=1-(e+n)):(n=(1-o)/3,i=(1+o*bt(gt*(a-=2/3))/bt(yt-gt*a))/3,e=1-(n+i)),e=vt(u*e*3),n=vt(u*n*3),i=vt(u*i*3),[255*e,255*n,255*i,t.length>3?t[3]:1]},xt=u.unpack,_t=u.type;h.prototype.hsi=function(){return mt(this._rgb)},d.hsi=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["hsi"])))},s.format.hsi=wt,s.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=xt(t,"hsi"),"array"===_t(t)&&3===t.length)return"hsi"}});var Mt=u.unpack,Nt=u.type;h.prototype.hsl=function(){return S(this._rgb)},d.hsl=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["hsl"])))},s.format.hsl=j,s.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=Mt(t,"hsl"),"array"===Nt(t)&&3===t.length)return"hsl"}});var Et=u.unpack,At=Math.min,zt=Math.max,St=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e,n,i,a=(t=Et(t,"rgb"))[0],o=t[1],u=t[2],s=At(a,o,u),f=zt(a,o,u),c=f-s;return i=f/255,0===f?(e=Number.NaN,n=0):(n=c/f,a===f&&(e=(o-u)/c),o===f&&(e=2+(u-a)/c),u===f&&(e=4+(a-o)/c),(e*=60)<0&&(e+=360)),[e,n,i]},kt=u.unpack,Ot=Math.floor,Ct=function(){for(var t,r,e,n,i,a,o=[],u=arguments.length;u--;)o[u]=arguments[u];var s,f,c,l=(o=kt(o,"hsv"))[0],p=o[1],h=o[2];if(h*=255,0===p)s=f=c=h;else{360===l&&(l=0),l>360&&(l-=360),l<0&&(l+=360);var m=Ot(l/=60),d=l-m,v=h*(1-p),g=h*(1-p*d),y=h*(1-p*(1-d));switch(m){case 0:s=(t=[h,y,v])[0],f=t[1],c=t[2];break;case 1:s=(r=[g,h,v])[0],f=r[1],c=r[2];break;case 2:s=(e=[v,h,y])[0],f=e[1],c=e[2];break;case 3:s=(n=[v,g,h])[0],f=n[1],c=n[2];break;case 4:s=(i=[y,v,h])[0],f=i[1],c=i[2];break;case 5:s=(a=[h,v,g])[0],f=a[1],c=a[2]}}return[s,f,c,o.length>3?o[3]:1]},Ft=u.unpack,Bt=u.type;h.prototype.hsv=function(){return St(this._rgb)},d.hsv=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["hsv"])))},s.format.hsv=Ct,s.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=Ft(t,"hsv"),"array"===Bt(t)&&3===t.length)return"hsv"}});var It={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Tt=u.unpack,Pt=Math.pow,Dt=function(t){return(t/=255)<=.04045?t/12.92:Pt((t+.055)/1.055,2.4)},jt=function(t){return t>It.t3?Pt(t,1/3):t/It.t2+It.t0},Rt=function(t,r,e){t=Dt(t),r=Dt(r),e=Dt(e);var n=jt((.4124564*t+.3575761*r+.1804375*e)/It.Xn),i=jt((.2126729*t+.7151522*r+.072175*e)/It.Yn),a=jt((.0193339*t+.119192*r+.9503041*e)/It.Zn);return[n,i,a]},Ut=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=Tt(t,"rgb"),n=e[0],i=e[1],a=e[2],o=Rt(n,i,a),u=o[0],s=o[1],f=o[2],c=116*s-16;return[c<0?0:c,500*(u-s),200*(s-f)]},qt=u.unpack,Lt=Math.pow,$t=function(t){return 255*(t<=.00304?12.92*t:1.055*Lt(t,1/2.4)-.055)},Gt=function(t){return t>It.t1?t*t*t:It.t2*(t-It.t0)},Wt=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e,n,i,a,o,u,s=(t=qt(t,"lab"))[0],f=t[1],c=t[2];return n=(s+16)/116,e=isNaN(f)?n:n+f/500,i=isNaN(c)?n:n-c/200,n=It.Yn*Gt(n),e=It.Xn*Gt(e),i=It.Zn*Gt(i),a=$t(3.2404542*e-1.5371385*n-.4985314*i),o=$t(-.969266*e+1.8760108*n+.041556*i),u=$t(.0556434*e-.2040259*n+1.0572252*i),[a,o,u,t.length>3?t[3]:1]},Jt=u.unpack,Yt=u.type;h.prototype.lab=function(){return Ut(this._rgb)},d.lab=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["lab"])))},s.format.lab=Wt,s.autodetect.push({p:2,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=Jt(t,"lab"),"array"===Yt(t)&&3===t.length)return"lab"}});var Vt=u.unpack,Xt=u.RAD2DEG,Ht=Math.sqrt,Zt=Math.atan2,Kt=Math.round,Qt=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=Vt(t,"lab"),n=e[0],i=e[1],a=e[2],o=Ht(i*i+a*a),u=(Zt(a,i)*Xt+360)%360;return 0===Kt(1e4*o)&&(u=Number.NaN),[n,o,u]},tr=u.unpack,rr=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=tr(t,"rgb"),n=e[0],i=e[1],a=e[2],o=Ut(n,i,a),u=o[0],s=o[1],f=o[2];return Qt(u,s,f)},er=u.unpack,nr=u.DEG2RAD,ir=Math.sin,ar=Math.cos,or=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=er(t,"lch"),n=e[0],i=e[1],a=e[2];return isNaN(a)&&(a=0),[n,ar(a*=nr)*i,ir(a)*i]},ur=u.unpack,sr=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=(t=ur(t,"lch"))[0],n=t[1],i=t[2],a=or(e,n,i),o=a[0],u=a[1],s=a[2],f=Wt(o,u,s),c=f[0],l=f[1],p=f[2];return[c,l,p,t.length>3?t[3]:1]},fr=u.unpack,cr=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=fr(t,"hcl").reverse();return sr.apply(void 0,e)},lr=u.unpack,pr=u.type;h.prototype.lch=function(){return rr(this._rgb)},h.prototype.hcl=function(){return rr(this._rgb).reverse()},d.lch=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["lch"])))},d.hcl=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["hcl"])))},s.format.lch=sr,s.format.hcl=cr,["lch","hcl"].forEach(function(t){return s.autodetect.push({p:2,test:function(){for(var r=[],e=arguments.length;e--;)r[e]=arguments[e];if(r=lr(r,t),"array"===pr(r)&&3===r.length)return t}})});var hr=u.type;h.prototype.name=function(){for(var t=ut(this._rgb,"rgb"),r=0,e=Object.keys(R);r<e.length;r+=1){var n=e[r];if(R[n]===t)return n.toLowerCase()}return t},s.format.named=function(t){if(t=t.toLowerCase(),R[t])return T(R[t]);throw new Error("unknown color name: "+t)},s.autodetect.push({p:5,test:function(t){for(var r=[],e=arguments.length-1;e-- >0;)r[e]=arguments[e+1];if(!r.length&&"string"===hr(t)&&R[t.toLowerCase()])return"named"}});var mr=u.unpack,dr=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=mr(t,"rgb"),n=e[0],i=e[1],a=e[2];return(n<<16)+(i<<8)+a},vr=u.type,gr=function(t){if("number"==vr(t)&&t>=0&&t<=16777215){var r=t>>16,e=t>>8&255,n=255&t;return[r,e,n,1]}throw new Error("unknown num color: "+t)},yr=u.type;h.prototype.num=function(){return dr(this._rgb)},d.num=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["num"])))},s.format.num=gr,s.autodetect.push({p:5,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(1===t.length&&"number"===yr(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var br=u.unpack,wr=u.type,xr=Math.round;h.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(xr)},h.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map(function(r,e){return e<3?!1===t?r:xr(r):r})},d.rgb=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["rgb"])))},s.format.rgb=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];var e=br(t,"rgba");return void 0===e[3]&&(e[3]=1),e},s.autodetect.push({p:3,test:function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(t=br(t,"rgba"),"array"===wr(t)&&(3===t.length||4===t.length&&"number"==wr(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var _r=Math.log,Mr=function(t){var r,e,n,i=t/100;return i<66?(r=255,e=-155.25485562709179-.44596950469579133*(e=i-2)+104.49216199393888*_r(e),n=i<20?0:.8274096064007395*(n=i-10)-254.76935184120902+115.67994401066147*_r(n)):(r=351.97690566805693+.114206453784165*(r=i-55)-40.25366309332127*_r(r),e=325.4494125711974+.07943456536662342*(e=i-50)-28.0852963507957*_r(e),n=255),[r,e,n,1]},Nr=u.unpack,Er=Math.round,Ar=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var e,n=Nr(t,"rgb"),i=n[0],a=n[2],o=1e3,u=4e4;u-o>.4;){var s=Mr(e=.5*(u+o));s[2]/s[0]>=a/i?u=e:o=e}return Er(e)};h.prototype.temp=h.prototype.kelvin=h.prototype.temperature=function(){return Ar(this._rgb)},d.temp=d.kelvin=d.temperature=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return new(Function.prototype.bind.apply(h,[null].concat(t,["temp"])))},s.format.temp=s.format.kelvin=s.format.temperature=Mr;var zr=u.type;h.prototype.alpha=function(t,r){return void 0===r&&(r=!1),void 0!==t&&"number"===zr(t)?r?(this._rgb[3]=t,this):new h([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},h.prototype.clipped=function(){return this._rgb._clipped||!1},h.prototype.darken=function(t){void 0===t&&(t=1);var r=this.lab();return r[0]-=It.Kn*t,new h(r,"lab").alpha(this.alpha(),!0)},h.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},h.prototype.darker=h.prototype.darken,h.prototype.brighter=h.prototype.brighten,h.prototype.get=function(t){var r=t.split("."),e=r[0],n=r[1],i=this[e]();if(n){var a=e.indexOf(n);if(a>-1)return i[a];throw new Error("unknown channel "+n+" in mode "+e)}return i};var Sr=u.type,kr=Math.pow;h.prototype.luminance=function(t){if(void 0!==t&&"number"===Sr(t)){if(0===t)return new h([0,0,0,this._rgb[3]],"rgb");if(1===t)return new h([255,255,255,this._rgb[3]],"rgb");var r=this.luminance(),e=20,n=function(r,i){var a=r.interpolate(i,.5,"rgb"),o=a.luminance();return Math.abs(t-o)<1e-7||!e--?a:o>t?n(r,a):n(a,i)},i=(r>t?n(new h([0,0,0]),this):n(this,new h([255,255,255]))).rgb();return new h(i.concat([this._rgb[3]]))}return Or.apply(void 0,this._rgb.slice(0,3))};var Or=function(t,r,e){return t=Cr(t),r=Cr(r),e=Cr(e),.2126*t+.7152*r+.0722*e},Cr=function(t){return(t/=255)<=.03928?t/12.92:kr((t+.055)/1.055,2.4)},Fr={},Br=u.type,Ir=function(t,r,e){void 0===e&&(e=.5);for(var n=[],i=arguments.length-3;i-- >0;)n[i]=arguments[i+3];var a=n[0]||"lrgb";if(Fr[a]||n.length||(a=Object.keys(Fr)[0]),!Fr[a])throw new Error("interpolation mode "+a+" is not defined");return"object"!==Br(t)&&(t=new h(t)),"object"!==Br(r)&&(r=new h(r)),Fr[a](t,r,e).alpha(t.alpha()+e*(r.alpha()-t.alpha()))};h.prototype.mix=h.prototype.interpolate=function(t,r){void 0===r&&(r=.5);for(var e=[],n=arguments.length-2;n-- >0;)e[n]=arguments[n+2];return Ir.apply(void 0,[this,t,r].concat(e))},h.prototype.premultiply=function(t){void 0===t&&(t=!1);var r=this._rgb,e=r[3];return t?(this._rgb=[r[0]*e,r[1]*e,r[2]*e,e],this):new h([r[0]*e,r[1]*e,r[2]*e,e],"rgb")},h.prototype.saturate=function(t){void 0===t&&(t=1);var r=this.lch();return r[1]+=It.Kn*t,r[1]<0&&(r[1]=0),new h(r,"lch").alpha(this.alpha(),!0)},h.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var Tr=u.type;h.prototype.set=function(t,r,e){void 0===e&&(e=!1);var n=t.split("."),i=n[0],a=n[1],o=this[i]();if(a){var u=i.indexOf(a);if(u>-1){if("string"==Tr(r))switch(r.charAt(0)){case"+":case"-":o[u]+=+r;break;case"*":o[u]*=+r.substr(1);break;case"/":o[u]/=+r.substr(1);break;default:o[u]=+r}else{if("number"!==Tr(r))throw new Error("unsupported value for Color.set");o[u]=r}var s=new h(o,i);return e?(this._rgb=s._rgb,this):s}throw new Error("unknown channel "+a+" in mode "+i)}return o},Fr.rgb=function(t,r,e){var n=t._rgb,i=r._rgb;return new h(n[0]+e*(i[0]-n[0]),n[1]+e*(i[1]-n[1]),n[2]+e*(i[2]-n[2]),"rgb")};var Pr=Math.sqrt,Dr=Math.pow;Fr.lrgb=function(t,r,e){var n=t._rgb,i=n[0],a=n[1],o=n[2],u=r._rgb,s=u[0],f=u[1],c=u[2];return new h(Pr(Dr(i,2)*(1-e)+Dr(s,2)*e),Pr(Dr(a,2)*(1-e)+Dr(f,2)*e),Pr(Dr(o,2)*(1-e)+Dr(c,2)*e),"rgb")},Fr.lab=function(t,r,e){var n=t.lab(),i=r.lab();return new h(n[0]+e*(i[0]-n[0]),n[1]+e*(i[1]-n[1]),n[2]+e*(i[2]-n[2]),"lab")};var jr=function(t,r,e,n){var i,a,o,u,s,f,c,l,p,m,d,v;return"hsl"===n?(o=t.hsl(),u=r.hsl()):"hsv"===n?(o=t.hsv(),u=r.hsv()):"hcg"===n?(o=t.hcg(),u=r.hcg()):"hsi"===n?(o=t.hsi(),u=r.hsi()):"lch"!==n&&"hcl"!==n||(n="hcl",o=t.hcl(),u=r.hcl()),"h"===n.substr(0,1)&&(s=(i=o)[0],c=i[1],p=i[2],f=(a=u)[0],l=a[1],m=a[2]),isNaN(s)||isNaN(f)?isNaN(s)?isNaN(f)?v=Number.NaN:(v=f,1!=p&&0!=p||"hsv"==n||(d=l)):(v=s,1!=m&&0!=m||"hsv"==n||(d=c)):v=s+e*(f>s&&f-s>180?f-(s+360):f<s&&s-f>180?f+360-s:f-s),void 0===d&&(d=c+e*(l-c)),new h([v,d,p+e*(m-p)],n)},Rr=function(t,r,e){return jr(t,r,e,"lch")};Fr.lch=Rr,Fr.hcl=Rr,Fr.num=function(t,r,e){var n=t.num(),i=r.num();return new h(n+e*(i-n),"num")},Fr.hcg=function(t,r,e){return jr(t,r,e,"hcg")},Fr.hsi=function(t,r,e){return jr(t,r,e,"hsi")},Fr.hsl=function(t,r,e){return jr(t,r,e,"hsl")},Fr.hsv=function(t,r,e){return jr(t,r,e,"hsv")};var Ur=u.clip_rgb,qr=Math.pow,Lr=Math.sqrt,$r=Math.PI,Gr=Math.cos,Wr=Math.sin,Jr=Math.atan2,Yr=function(t){for(var r=t.length,e=1/r,n=[0,0,0,0],i=0,a=t;i<a.length;i+=1){var o=a[i],u=o._rgb;n[0]+=qr(u[0],2)*e,n[1]+=qr(u[1],2)*e,n[2]+=qr(u[2],2)*e,n[3]+=u[3]*e}return n[0]=Lr(n[0]),n[1]=Lr(n[1]),n[2]=Lr(n[2]),n[3]>.9999999&&(n[3]=1),new h(Ur(n))},Vr=u.type,Xr=Math.pow,Hr=function(t){var r="rgb",e=d("#ccc"),n=0,i=[0,1],a=[],o=[0,0],u=!1,s=[],f=!1,c=0,l=1,p=!1,h={},m=!0,v=1,g=function(t){if((t=t||["#fff","#000"])&&"string"===Vr(t)&&d.brewer&&d.brewer[t.toLowerCase()]&&(t=d.brewer[t.toLowerCase()]),"array"===Vr(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var r=0;r<t.length;r++)t[r]=d(t[r]);a.length=0;for(var e=0;e<t.length;e++)a.push(e/(t.length-1))}return w(),s=t},y=function(t){return t},b=function(t,n){var i,f;if(null==n&&(n=!1),isNaN(t)||null===t)return e;if(n)f=t;else if(u&&u.length>2){var p=function(t){if(null!=u){for(var r=u.length-1,e=0;e<r&&t>=u[e];)e++;return e-1}return 0}(t);f=p/(u.length-2)}else f=l!==c?(t-c)/(l-c):1;n||(f=y(f)),1!==v&&(f=Xr(f,v)),f=o[0]+f*(1-o[0]-o[1]),f=Math.min(1,Math.max(0,f));var g=Math.floor(1e4*f);if(m&&h[g])i=h[g];else{if("array"===Vr(s))for(var b=0;b<a.length;b++){var w=a[b];if(f<=w){i=s[b];break}if(f>=w&&b===a.length-1){i=s[b];break}if(f>w&&f<a[b+1]){f=(f-w)/(a[b+1]-w),i=d.interpolate(s[b],s[b+1],f,r);break}}else"function"===Vr(s)&&(i=s(f));m&&(h[g]=i)}return i},w=function(){return h={}};g(t);var x=function(t){var r=d(b(t));return f&&r[f]?r[f]():r};return x.classes=function(t){if(null!=t){if("array"===Vr(t))u=t,i=[t[0],t[t.length-1]];else{var r=d.analyze(i);u=0===t?[r.min,r.max]:d.limits(r,"e",t)}return x}return u},x.domain=function(t){if(!arguments.length)return i;c=t[0],l=t[t.length-1],a=[];var r=s.length;if(t.length===r&&c!==l)for(var e=0,n=Array.from(t);e<n.length;e+=1){var o=n[e];a.push((o-c)/(l-c))}else for(var u=0;u<r;u++)a.push(u/(r-1));return i=[c,l],x},x.mode=function(t){return arguments.length?(r=t,w(),x):r},x.range=function(t,r){return g(t),x},x.out=function(t){return f=t,x},x.spread=function(t){return arguments.length?(n=t,x):n},x.correctLightness=function(t){return null==t&&(t=!0),p=t,w(),y=p?function(t){for(var r=b(0,!0).lab()[0],e=b(1,!0).lab()[0],n=r>e,i=b(t,!0).lab()[0],a=r+(e-r)*t,o=i-a,u=0,s=1,f=20;Math.abs(o)>.01&&f-- >0;)n&&(o*=-1),o<0?(u=t,t+=.5*(s-t)):(s=t,t+=.5*(u-t)),i=b(t,!0).lab()[0],o=i-a;return t}:function(t){return t},x},x.padding=function(t){return null!=t?("number"===Vr(t)&&(t=[t,t]),o=t,x):o},x.colors=function(r,e){arguments.length<2&&(e="hex");var n=[];if(0===arguments.length)n=s.slice(0);else if(1===r)n=[x(.5)];else if(r>1){var a=i[0],o=i[1]-a;n=function(t,r,e){for(var n=[],i=t<r,a=e?i?r+1:r-1:r,o=t;i?o<a:o>a;i?o++:o--)n.push(o);return n}(0,r,!1).map(function(t){return x(a+t/(r-1)*o)})}else{t=[];var f=[];if(u&&u.length>2)for(var c=1,l=u.length,p=1<=l;p?c<l:c>l;p?c++:c--)f.push(.5*(u[c-1]+u[c]));else f=i;n=f.map(function(t){return x(t)})}return d[e]&&(n=n.map(function(t){return t[e]()})),n},x.cache=function(t){return null!=t?(m=t,x):m},x.gamma=function(t){return null!=t?(v=t,x):v},x.nodata=function(t){return null!=t?(e=d(t),x):e},x},Zr=function(t){var r,e,n,i,a,o,u;if(2===(t=t.map(function(t){return new h(t)})).length)r=t.map(function(t){return t.lab()}),a=r[0],o=r[1],i=function(t){var r=[0,1,2].map(function(r){return a[r]+t*(o[r]-a[r])});return new h(r,"lab")};else if(3===t.length)e=t.map(function(t){return t.lab()}),a=e[0],o=e[1],u=e[2],i=function(t){var r=[0,1,2].map(function(r){return(1-t)*(1-t)*a[r]+2*(1-t)*t*o[r]+t*t*u[r]});return new h(r,"lab")};else if(4===t.length){var s;n=t.map(function(t){return t.lab()}),a=n[0],o=n[1],u=n[2],s=n[3],i=function(t){var r=[0,1,2].map(function(r){return(1-t)*(1-t)*(1-t)*a[r]+3*(1-t)*(1-t)*t*o[r]+3*(1-t)*t*t*u[r]+t*t*t*s[r]});return new h(r,"lab")}}else if(5===t.length){var f=Zr(t.slice(0,3)),c=Zr(t.slice(2,5));i=function(t){return t<.5?f(2*t):c(2*(t-.5))}}return i},Kr=function(t,r,e){if(!Kr[e])throw new Error("unknown blend mode "+e);return Kr[e](t,r)},Qr=function(t){return function(r,e){var n=d(e).rgb(),i=d(r).rgb();return d.rgb(t(n,i))}},te=function(t){return function(r,e){var n=[];return n[0]=t(r[0],e[0]),n[1]=t(r[1],e[1]),n[2]=t(r[2],e[2]),n}};Kr.normal=Qr(te(function(t){return t})),Kr.multiply=Qr(te(function(t,r){return t*r/255})),Kr.screen=Qr(te(function(t,r){return 255*(1-(1-t/255)*(1-r/255))})),Kr.overlay=Qr(te(function(t,r){return r<128?2*t*r/255:255*(1-2*(1-t/255)*(1-r/255))})),Kr.darken=Qr(te(function(t,r){return t>r?r:t})),Kr.lighten=Qr(te(function(t,r){return t>r?t:r})),Kr.dodge=Qr(te(function(t,r){return 255===t?255:(t=r/255*255/(1-t/255))>255?255:t})),Kr.burn=Qr(te(function(t,r){return 255*(1-(1-r/255)/(t/255))}));for(var re=Kr,ee=u.type,ne=u.clip_rgb,ie=u.TWOPI,ae=Math.pow,oe=Math.sin,ue=Math.cos,se=Math.floor,fe=Math.random,ce=Math.log,le=Math.pow,pe=Math.floor,he=Math.abs,me=function(t,r){void 0===r&&(r=null);var e={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===a(t)&&(t=Object.values(t)),t.forEach(function(t){r&&"object"===a(t)&&(t=t[r]),null==t||isNaN(t)||(e.values.push(t),e.sum+=t,t<e.min&&(e.min=t),t>e.max&&(e.max=t),e.count+=1)}),e.domain=[e.min,e.max],e.limits=function(t,r){return de(e,t,r)},e},de=function(t,r,e){void 0===r&&(r="equal"),void 0===e&&(e=7),"array"==a(t)&&(t=me(t));var n=t.min,i=t.max,o=t.values.sort(function(t,r){return t-r});if(1===e)return[n,i];var u=[];if("c"===r.substr(0,1)&&(u.push(n),u.push(i)),"e"===r.substr(0,1)){u.push(n);for(var s=1;s<e;s++)u.push(n+s/e*(i-n));u.push(i)}else if("l"===r.substr(0,1)){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");var f=Math.LOG10E*ce(n),c=Math.LOG10E*ce(i);u.push(n);for(var l=1;l<e;l++)u.push(le(10,f+l/e*(c-f)));u.push(i)}else if("q"===r.substr(0,1)){u.push(n);for(var p=1;p<e;p++){var h=(o.length-1)*p/e,m=pe(h);if(m===h)u.push(o[m]);else{var d=h-m;u.push(o[m]*(1-d)+o[m+1]*d)}}u.push(i)}else if("k"===r.substr(0,1)){var v,g=o.length,y=new Array(g),b=new Array(e),w=!0,x=0,_=null;(_=[]).push(n);for(var M=1;M<e;M++)_.push(n+M/e*(i-n));for(_.push(i);w;){for(var N=0;N<e;N++)b[N]=0;for(var E=0;E<g;E++)for(var A=o[E],z=Number.MAX_VALUE,S=void 0,k=0;k<e;k++){var O=he(_[k]-A);O<z&&(z=O,S=k),b[S]++,y[E]=S}for(var C=new Array(e),F=0;F<e;F++)C[F]=null;for(var B=0;B<g;B++)v=y[B],null===C[v]?C[v]=o[B]:C[v]+=o[B];for(var I=0;I<e;I++)C[I]*=1/b[I];w=!1;for(var T=0;T<e;T++)if(C[T]!==_[T]){w=!0;break}_=C,++x>200&&(w=!1)}for(var P={},D=0;D<e;D++)P[D]=[];for(var j=0;j<g;j++)v=y[j],P[v].push(o[j]);for(var R=[],U=0;U<e;U++)R.push(P[U][0]),R.push(P[U][P[U].length-1]);R=R.sort(function(t,r){return t-r}),u.push(R[0]);for(var q=1;q<R.length;q+=2){var L=R[q];isNaN(L)||-1!==u.indexOf(L)||u.push(L)}}return u},ve={analyze:me,limits:de},ge=Math.sqrt,ye=Math.atan2,be=Math.abs,we=Math.cos,xe=Math.PI,_e={cool:function(){return Hr([d.hsl(180,1,.9),d.hsl(250,.7,.4)])},hot:function(){return Hr(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Me={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Ne=0,Ee=Object.keys(Me);Ne<Ee.length;Ne+=1){var Ae=Ee[Ne];Me[Ae.toLowerCase()]=Me[Ae]}var ze=Me;return d.average=function(t,r){void 0===r&&(r="lrgb");var e=t.length;if(t=t.map(function(t){return new h(t)}),"lrgb"===r)return Yr(t);for(var n=t.shift(),i=n.get(r),a=[],o=0,u=0,s=0;s<i.length;s++)if(i[s]=i[s]||0,a.push(isNaN(i[s])?0:1),"h"===r.charAt(s)&&!isNaN(i[s])){var f=i[s]/180*$r;o+=Gr(f),u+=Wr(f)}var c=n.alpha();t.forEach(function(t){var e=t.get(r);c+=t.alpha();for(var n=0;n<i.length;n++)if(!isNaN(e[n]))if(a[n]++,"h"===r.charAt(n)){var s=e[n]/180*$r;o+=Gr(s),u+=Wr(s)}else i[n]+=e[n]});for(var l=0;l<i.length;l++)if("h"===r.charAt(l)){for(var p=Jr(u/a[l],o/a[l])/$r*180;p<0;)p+=360;for(;p>=360;)p-=360;i[l]=p}else i[l]=i[l]/a[l];return c/=e,new h(i,r).alpha(c>.99999?1:c,!0)},d.bezier=function(t){var r=Zr(t);return r.scale=function(){return Hr(r)},r},d.blend=re,d.cubehelix=function(t,r,e,n,i){void 0===t&&(t=300),void 0===r&&(r=-1.5),void 0===e&&(e=1),void 0===n&&(n=1),void 0===i&&(i=[0,1]);var a,o=0;"array"===ee(i)?a=i[1]-i[0]:(a=0,i=[i,i]);var u=function(u){var s=ie*((t+120)/360+r*u),f=ae(i[0]+a*u,n),c=0!==o?e[0]+u*o:e,l=c*f*(1-f)/2,p=ue(s),h=oe(s),m=f+l*(-.14861*p+1.78277*h),v=f+l*(-.29227*p-.90649*h),g=f+l*(1.97294*p);return d(ne([255*m,255*v,255*g,1]))};return u.start=function(r){return null==r?t:(t=r,u)},u.rotations=function(t){return null==t?r:(r=t,u)},u.gamma=function(t){return null==t?n:(n=t,u)},u.hue=function(t){return null==t?e:("array"===ee(e=t)?0==(o=e[1]-e[0])&&(e=e[1]):o=0,u)},u.lightness=function(t){return null==t?i:("array"===ee(t)?(i=t,a=t[1]-t[0]):(i=[t,t],a=0),u)},u.scale=function(){return d.scale(u)},u.hue(e),u},d.mix=d.interpolate=Ir,d.random=function(){for(var t="#",r=0;r<6;r++)t+="0123456789abcdef".charAt(se(16*fe()));return new h(t,"hex")},d.scale=Hr,d.analyze=ve.analyze,d.contrast=function(t,r){t=new h(t),r=new h(r);var e=t.luminance(),n=r.luminance();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},d.deltaE=function(t,r,e,n){void 0===e&&(e=1),void 0===n&&(n=1),t=new h(t),r=new h(r);for(var i=Array.from(t.lab()),a=i[0],o=i[1],u=i[2],s=Array.from(r.lab()),f=s[0],c=s[1],l=s[2],p=ge(o*o+u*u),m=ge(c*c+l*l),d=a<16?.511:.040975*a/(1+.01765*a),v=.0638*p/(1+.0131*p)+.638,g=p<1e-6?0:180*ye(u,o)/xe;g<0;)g+=360;for(;g>=360;)g-=360;var y=g>=164&&g<=345?.56+be(.2*we(xe*(g+168)/180)):.36+be(.4*we(xe*(g+35)/180)),b=p*p*p*p,w=ge(b/(b+1900)),x=v*(w*y+1-w),_=p-m,M=o-c,N=u-l,E=(a-f)/(e*d),A=_/(n*v);return ge(E*E+A*A+(M*M+N*N-_*_)/(x*x))},d.distance=function(t,r,e){void 0===e&&(e="lab"),t=new h(t),r=new h(r);var n=t.get(e),i=r.get(e),a=0;for(var o in n){var u=(n[o]||0)-(i[o]||0);a+=u*u}return Math.sqrt(a)},d.limits=ve.limits,d.valid=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];try{return new(Function.prototype.bind.apply(h,[null].concat(t))),!0}catch(t){return!1}},d.scales=_e,d.colors=R,d.brewer=ze,d}()},function(t,r,e){"use strict";var n=e(5);r.name="reshape",r.factory=function(t,r,i,a){var o=i(e(0)),u=i(e(90)),s=a("reshape",{"Matrix, Array":function(t,r){return t.reshape?t.reshape(r):o(n.reshape(t.valueOf(),r))},"Array, Array":function(t,r){return r.forEach(function(t){if(!u(t))throw new TypeError("Invalid size for dimension: "+t)}),n.reshape(t,r)}});return s.toTex=void 0,s}},function(t,r,e){"use strict";var n=e(4),i=e(2);r.name="isInteger",r.factory=function(t,r,e,a){var o=a("isInteger",{number:i.isInteger,BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":function(t){return n(t,o)}});return o}}]);